{
    "assignee": null,
    "body": "First of all, I don't know where put my contribution.\r\n\r\nI created a function to convert characters that are unknown emojis in the format used by the API when sending messages.\r\n\r\nExample: Normally received: \"This is a emoji: �\" then, with this function, return: \"This is a emoji: ##1f631##\".\r\n\r\nI still can not figure out a way to convert those double Emojis, like \"##0023_20E3##\". Once I get I notice.\r\n\r\nAnd again I'm sorry. I do not know where to post this contribution.\r\n\r\n```php\r\nfunction parseMessageFromEmojis($txt){\r\n\t\t$txt = mb_convert_encoding($txt, 'HTML-ENTITIES', 'UTF-8');\r\n\t\t$matches = null;\r\n        preg_match_all('/\\&\\#(.+?)\\;/', $txt, $matches, PREG_SET_ORDER);\r\n        if (is_array($matches)) {\r\n            foreach ($matches as $emoji) {\r\n                $txt = str_ireplace($emoji[0], '##'.dechex($emoji[1]).'##', $txt);\r\n            }\r\n        }\r\n        return mb_convert_encoding($txt, 'UTF-8', 'HTML-ENTITIES');\r\n    }\r\n```",
    "closed_at": null,
    "comment_data": [
        {
            "body": "I think you can keep this function as a function. and who wants use can create an event:\r\n```\r\nonGetMessage($mynumber, $from, $id, $type, $time, $name, $body)\r\n```\r\n... and in the function run:\r\n```\r\n$body = parseMessageFromEmojis( $body );\r\n```\r\nAfter I solve my problem with event manager, I will try that :)\r\n\r\nBut, in the WhatsProt class, you have ```protected $messageQueue```. You can add another function to this class, like ```convertEmojis``` and before use ```$w->getMessages()``` you can call ```$w->covertEmojis()```, so, this messages will be converted and when getMessages, will be all right.\r\n\r\nI'm not sure about everything I told, but, you can try that :+1: ",
            "created_at": "2014-09-25T15:07:44Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/981#issuecomment-56832668",
            "id": 56832668,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/981",
            "updated_at": "2014-09-25T15:07:44Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56832668",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5036316?v=3",
                "events_url": "https://api.github.com/users/eliasjnior/events{/privacy}",
                "followers_url": "https://api.github.com/users/eliasjnior/followers",
                "following_url": "https://api.github.com/users/eliasjnior/following{/other_user}",
                "gists_url": "https://api.github.com/users/eliasjnior/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/eliasjnior",
                "id": 5036316,
                "login": "eliasjnior",
                "organizations_url": "https://api.github.com/users/eliasjnior/orgs",
                "received_events_url": "https://api.github.com/users/eliasjnior/received_events",
                "repos_url": "https://api.github.com/users/eliasjnior/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/eliasjnior/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eliasjnior/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/eliasjnior"
            }
        },
        {
            "body": "Elias can you mail me ?\r\n\r\n2014-09-25 12:07 GMT-03:00 Elias Júnior <notifications@github.com>:\r\n\r\n> I think you can keep this function as a function. and who wants use can\r\n> create an event:\r\n>\r\n> onGetMessage($mynumber, $from, $id, $type, $time, $name, $body)\r\n>\r\n> ... and in the function run:\r\n>\r\n> $body = parseMessageFromEmojis( $body );\r\n>\r\n> After I solve my problem with event manager, I will try that :)\r\n>\r\n> But, in the WhatsProt class, you have protected $messageQueue. You can\r\n> add another function to this class, like convertEmojis and before use\r\n> $w->getMessages() you can call $w->covertEmojis(), so, this messages will\r\n> be converted and when getMessages, will be all right.\r\n>\r\n> I'm not sure about everything I told, but, you can try that [image: :+1:]\r\n>\r\n> —\r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/venomous0x/WhatsAPI/issues/981#issuecomment-56832668>.\r\n>",
            "created_at": "2014-09-25T15:11:26Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/981#issuecomment-56833289",
            "id": 56833289,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/981",
            "updated_at": "2014-09-25T15:11:26Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56833289",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8712152?v=3",
                "events_url": "https://api.github.com/users/crashforce/events{/privacy}",
                "followers_url": "https://api.github.com/users/crashforce/followers",
                "following_url": "https://api.github.com/users/crashforce/following{/other_user}",
                "gists_url": "https://api.github.com/users/crashforce/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/crashforce",
                "id": 8712152,
                "login": "crashforce",
                "organizations_url": "https://api.github.com/users/crashforce/orgs",
                "received_events_url": "https://api.github.com/users/crashforce/received_events",
                "repos_url": "https://api.github.com/users/crashforce/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/crashforce/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/crashforce/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/crashforce"
            }
        },
        {
            "body": "@eliasjnior Yes, I made something like that.",
            "created_at": "2014-09-25T15:29:04Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/981#issuecomment-56836075",
            "id": 56836075,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/981",
            "updated_at": "2014-09-25T15:29:04Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56836075",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4112077?v=3",
                "events_url": "https://api.github.com/users/ludufre/events{/privacy}",
                "followers_url": "https://api.github.com/users/ludufre/followers",
                "following_url": "https://api.github.com/users/ludufre/following{/other_user}",
                "gists_url": "https://api.github.com/users/ludufre/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ludufre",
                "id": 4112077,
                "login": "ludufre",
                "organizations_url": "https://api.github.com/users/ludufre/orgs",
                "received_events_url": "https://api.github.com/users/ludufre/received_events",
                "repos_url": "https://api.github.com/users/ludufre/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ludufre/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ludufre/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ludufre"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/981/comments",
    "created_at": "2014-09-24T16:37:55Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5036316?v=3",
                "events_url": "https://api.github.com/users/eliasjnior/events{/privacy}",
                "followers_url": "https://api.github.com/users/eliasjnior/followers",
                "following_url": "https://api.github.com/users/eliasjnior/following{/other_user}",
                "gists_url": "https://api.github.com/users/eliasjnior/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/eliasjnior",
                "id": 5036316,
                "login": "eliasjnior",
                "organizations_url": "https://api.github.com/users/eliasjnior/orgs",
                "received_events_url": "https://api.github.com/users/eliasjnior/received_events",
                "repos_url": "https://api.github.com/users/eliasjnior/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/eliasjnior/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eliasjnior/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/eliasjnior"
            },
            "commit_id": null,
            "created_at": "2014-09-25T15:29:04Z",
            "event": "mentioned",
            "id": 170230827,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170230827"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5036316?v=3",
                "events_url": "https://api.github.com/users/eliasjnior/events{/privacy}",
                "followers_url": "https://api.github.com/users/eliasjnior/followers",
                "following_url": "https://api.github.com/users/eliasjnior/following{/other_user}",
                "gists_url": "https://api.github.com/users/eliasjnior/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/eliasjnior",
                "id": 5036316,
                "login": "eliasjnior",
                "organizations_url": "https://api.github.com/users/eliasjnior/orgs",
                "received_events_url": "https://api.github.com/users/eliasjnior/received_events",
                "repos_url": "https://api.github.com/users/eliasjnior/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/eliasjnior/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eliasjnior/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/eliasjnior"
            },
            "commit_id": null,
            "created_at": "2014-09-25T15:29:04Z",
            "event": "subscribed",
            "id": 170230828,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170230828"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8712152?v=3",
                "events_url": "https://api.github.com/users/crashforce/events{/privacy}",
                "followers_url": "https://api.github.com/users/crashforce/followers",
                "following_url": "https://api.github.com/users/crashforce/following{/other_user}",
                "gists_url": "https://api.github.com/users/crashforce/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/crashforce",
                "id": 8712152,
                "login": "crashforce",
                "organizations_url": "https://api.github.com/users/crashforce/orgs",
                "received_events_url": "https://api.github.com/users/crashforce/received_events",
                "repos_url": "https://api.github.com/users/crashforce/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/crashforce/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/crashforce/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/crashforce"
            },
            "commit_id": null,
            "created_at": "2014-09-25T15:33:57Z",
            "event": "mentioned",
            "id": 170233919,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170233919"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8712152?v=3",
                "events_url": "https://api.github.com/users/crashforce/events{/privacy}",
                "followers_url": "https://api.github.com/users/crashforce/followers",
                "following_url": "https://api.github.com/users/crashforce/following{/other_user}",
                "gists_url": "https://api.github.com/users/crashforce/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/crashforce",
                "id": 8712152,
                "login": "crashforce",
                "organizations_url": "https://api.github.com/users/crashforce/orgs",
                "received_events_url": "https://api.github.com/users/crashforce/received_events",
                "repos_url": "https://api.github.com/users/crashforce/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/crashforce/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/crashforce/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/crashforce"
            },
            "commit_id": null,
            "created_at": "2014-09-25T15:33:57Z",
            "event": "subscribed",
            "id": 170233920,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170233920"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/981/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/981",
    "id": 43786638,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/981/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 981,
    "state": "open",
    "title": "My contribution: Emoji converter",
    "updated_at": "2014-09-25T16:46:18Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/981",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4112077?v=3",
        "events_url": "https://api.github.com/users/ludufre/events{/privacy}",
        "followers_url": "https://api.github.com/users/ludufre/followers",
        "following_url": "https://api.github.com/users/ludufre/following{/other_user}",
        "gists_url": "https://api.github.com/users/ludufre/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ludufre",
        "id": 4112077,
        "login": "ludufre",
        "organizations_url": "https://api.github.com/users/ludufre/orgs",
        "received_events_url": "https://api.github.com/users/ludufre/received_events",
        "repos_url": "https://api.github.com/users/ludufre/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ludufre/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ludufre/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ludufre"
    }
}