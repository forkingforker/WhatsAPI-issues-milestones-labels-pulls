{
    "assignee": null,
    "body": "Hi,\r\n\r\nI've embed whatsapi into a php daemon.\r\nMy issue is that I'm unable to keep online 24x7  the bot. After  inactive time  bot appears disconnected.\r\n\r\nI'm running latest version. I've tried various thing such  sendGetPrivacyBlockedList  but still doesn't works. Does anybody has got a working example  ? ",
    "closed_at": null,
    "comment_data": [
        {
            "body": "SendPresence and pollMessage in a while-loop.\n\nMy daemon runs for days without problems...\n\n\nVon Samsung Mobile gesendet",
            "created_at": "2014-09-25T12:34:24Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985#issuecomment-56811798",
            "id": 56811798,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
            "updated_at": "2014-09-25T12:34:24Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56811798",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390491?v=3",
                "events_url": "https://api.github.com/users/dennobaby/events{/privacy}",
                "followers_url": "https://api.github.com/users/dennobaby/followers",
                "following_url": "https://api.github.com/users/dennobaby/following{/other_user}",
                "gists_url": "https://api.github.com/users/dennobaby/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dennobaby",
                "id": 5390491,
                "login": "dennobaby",
                "organizations_url": "https://api.github.com/users/dennobaby/orgs",
                "received_events_url": "https://api.github.com/users/dennobaby/received_events",
                "repos_url": "https://api.github.com/users/dennobaby/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dennobaby/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dennobaby/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dennobaby"
            }
        },
        {
            "body": "@dennobaby, My bot works perfect. Can handle a lot of conversations during the day and for days. My doubt is, what the correct frequency of send of these commands? Today I sent pollMessage() every second and the sendPresence every ten seconds. It's okay, or need to be more slowly? It's only estetic, already works as is.",
            "created_at": "2014-09-25T13:55:51Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985#issuecomment-56821728",
            "id": 56821728,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
            "updated_at": "2014-09-25T13:55:51Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56821728",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4112077?v=3",
                "events_url": "https://api.github.com/users/ludufre/events{/privacy}",
                "followers_url": "https://api.github.com/users/ludufre/followers",
                "following_url": "https://api.github.com/users/ludufre/following{/other_user}",
                "gists_url": "https://api.github.com/users/ludufre/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ludufre",
                "id": 4112077,
                "login": "ludufre",
                "organizations_url": "https://api.github.com/users/ludufre/orgs",
                "received_events_url": "https://api.github.com/users/ludufre/received_events",
                "repos_url": "https://api.github.com/users/ludufre/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ludufre/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ludufre/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ludufre"
            }
        },
        {
            "body": "Can you post example code ? ",
            "created_at": "2014-09-25T15:24:15Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985#issuecomment-56835302",
            "id": 56835302,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
            "updated_at": "2014-09-25T15:24:15Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56835302",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/188766?v=3",
                "events_url": "https://api.github.com/users/scramatte/events{/privacy}",
                "followers_url": "https://api.github.com/users/scramatte/followers",
                "following_url": "https://api.github.com/users/scramatte/following{/other_user}",
                "gists_url": "https://api.github.com/users/scramatte/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scramatte",
                "id": 188766,
                "login": "scramatte",
                "organizations_url": "https://api.github.com/users/scramatte/orgs",
                "received_events_url": "https://api.github.com/users/scramatte/received_events",
                "repos_url": "https://api.github.com/users/scramatte/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scramatte/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scramatte/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scramatte"
            }
        },
        {
            "body": "@scramatte Well, I imaginated you already have a working code and have a main while as well, then you need to put the $w->sendPresence(); on this loop.",
            "created_at": "2014-09-25T16:00:12Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985#issuecomment-56840931",
            "id": 56840931,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
            "updated_at": "2014-09-25T16:00:12Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56840931",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4112077?v=3",
                "events_url": "https://api.github.com/users/ludufre/events{/privacy}",
                "followers_url": "https://api.github.com/users/ludufre/followers",
                "following_url": "https://api.github.com/users/ludufre/following{/other_user}",
                "gists_url": "https://api.github.com/users/ludufre/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ludufre",
                "id": 4112077,
                "login": "ludufre",
                "organizations_url": "https://api.github.com/users/ludufre/orgs",
                "received_events_url": "https://api.github.com/users/ludufre/received_events",
                "repos_url": "https://api.github.com/users/ludufre/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ludufre/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ludufre/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ludufre"
            }
        },
        {
            "body": "Just this ? ... I've just add it above  pollMessage.  I'm must wait now to see if it works or not. Thank you",
            "created_at": "2014-09-25T16:08:35Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985#issuecomment-56842199",
            "id": 56842199,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
            "updated_at": "2014-09-25T16:08:35Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56842199",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/188766?v=3",
                "events_url": "https://api.github.com/users/scramatte/events{/privacy}",
                "followers_url": "https://api.github.com/users/scramatte/followers",
                "following_url": "https://api.github.com/users/scramatte/following{/other_user}",
                "gists_url": "https://api.github.com/users/scramatte/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scramatte",
                "id": 188766,
                "login": "scramatte",
                "organizations_url": "https://api.github.com/users/scramatte/orgs",
                "received_events_url": "https://api.github.com/users/scramatte/received_events",
                "repos_url": "https://api.github.com/users/scramatte/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scramatte/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scramatte/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scramatte"
            }
        },
        {
            "body": "   $t=0;\r\n   while (1) {\r\n      $w->pollMessage();\r\n      $msgs = $w->getMessages();\r\n      foreach ($msgs as $m) {\r\n          //do something\r\n      }\r\n  \r\n      if( ($t == 15)){\r\n          $w->sendPresence();\r\n          $t=0;\r\n      }       \r\n      $t++;\r\n  }",
            "created_at": "2014-09-25T20:05:07Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985#issuecomment-56875512",
            "id": 56875512,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
            "updated_at": "2014-09-25T20:05:29Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56875512",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390491?v=3",
                "events_url": "https://api.github.com/users/dennobaby/events{/privacy}",
                "followers_url": "https://api.github.com/users/dennobaby/followers",
                "following_url": "https://api.github.com/users/dennobaby/following{/other_user}",
                "gists_url": "https://api.github.com/users/dennobaby/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dennobaby",
                "id": 5390491,
                "login": "dennobaby",
                "organizations_url": "https://api.github.com/users/dennobaby/orgs",
                "received_events_url": "https://api.github.com/users/dennobaby/received_events",
                "repos_url": "https://api.github.com/users/dennobaby/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dennobaby/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dennobaby/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dennobaby"
            }
        },
        {
            "body": "Take a look to /test folder, whatsapp.php",
            "created_at": "2014-09-25T22:24:15Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985#issuecomment-56893207",
            "id": 56893207,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
            "updated_at": "2014-09-25T22:24:15Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56893207",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
                "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
                "followers_url": "https://api.github.com/users/mgp25/followers",
                "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
                "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mgp25",
                "id": 5390120,
                "login": "mgp25",
                "organizations_url": "https://api.github.com/users/mgp25/orgs",
                "received_events_url": "https://api.github.com/users/mgp25/received_events",
                "repos_url": "https://api.github.com/users/mgp25/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mgp25"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985/comments",
    "created_at": "2014-09-25T12:23:59Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/188766?v=3",
                "events_url": "https://api.github.com/users/scramatte/events{/privacy}",
                "followers_url": "https://api.github.com/users/scramatte/followers",
                "following_url": "https://api.github.com/users/scramatte/following{/other_user}",
                "gists_url": "https://api.github.com/users/scramatte/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scramatte",
                "id": 188766,
                "login": "scramatte",
                "organizations_url": "https://api.github.com/users/scramatte/orgs",
                "received_events_url": "https://api.github.com/users/scramatte/received_events",
                "repos_url": "https://api.github.com/users/scramatte/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scramatte/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scramatte/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scramatte"
            },
            "commit_id": null,
            "created_at": "2014-09-25T12:24:20Z",
            "event": "renamed",
            "id": 170129957,
            "rename": {
                "from": "whatsapi php daemon  keep online",
                "to": "whatsapi php daemon  disconnect after sometime"
            },
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170129957"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/188766?v=3",
                "events_url": "https://api.github.com/users/scramatte/events{/privacy}",
                "followers_url": "https://api.github.com/users/scramatte/followers",
                "following_url": "https://api.github.com/users/scramatte/following{/other_user}",
                "gists_url": "https://api.github.com/users/scramatte/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scramatte",
                "id": 188766,
                "login": "scramatte",
                "organizations_url": "https://api.github.com/users/scramatte/orgs",
                "received_events_url": "https://api.github.com/users/scramatte/received_events",
                "repos_url": "https://api.github.com/users/scramatte/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scramatte/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scramatte/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scramatte"
            },
            "commit_id": null,
            "created_at": "2014-09-25T12:24:27Z",
            "event": "renamed",
            "id": 170129989,
            "rename": {
                "from": "whatsapi php daemon  disconnect after sometime",
                "to": "whatsapi php daemon  disconnect ..."
            },
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170129989"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390491?v=3",
                "events_url": "https://api.github.com/users/dennobaby/events{/privacy}",
                "followers_url": "https://api.github.com/users/dennobaby/followers",
                "following_url": "https://api.github.com/users/dennobaby/following{/other_user}",
                "gists_url": "https://api.github.com/users/dennobaby/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dennobaby",
                "id": 5390491,
                "login": "dennobaby",
                "organizations_url": "https://api.github.com/users/dennobaby/orgs",
                "received_events_url": "https://api.github.com/users/dennobaby/received_events",
                "repos_url": "https://api.github.com/users/dennobaby/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dennobaby/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dennobaby/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dennobaby"
            },
            "commit_id": null,
            "created_at": "2014-09-25T13:55:51Z",
            "event": "mentioned",
            "id": 170173212,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170173212"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390491?v=3",
                "events_url": "https://api.github.com/users/dennobaby/events{/privacy}",
                "followers_url": "https://api.github.com/users/dennobaby/followers",
                "following_url": "https://api.github.com/users/dennobaby/following{/other_user}",
                "gists_url": "https://api.github.com/users/dennobaby/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dennobaby",
                "id": 5390491,
                "login": "dennobaby",
                "organizations_url": "https://api.github.com/users/dennobaby/orgs",
                "received_events_url": "https://api.github.com/users/dennobaby/received_events",
                "repos_url": "https://api.github.com/users/dennobaby/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dennobaby/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dennobaby/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dennobaby"
            },
            "commit_id": null,
            "created_at": "2014-09-25T13:55:51Z",
            "event": "subscribed",
            "id": 170173213,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170173213"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/188766?v=3",
                "events_url": "https://api.github.com/users/scramatte/events{/privacy}",
                "followers_url": "https://api.github.com/users/scramatte/followers",
                "following_url": "https://api.github.com/users/scramatte/following{/other_user}",
                "gists_url": "https://api.github.com/users/scramatte/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scramatte",
                "id": 188766,
                "login": "scramatte",
                "organizations_url": "https://api.github.com/users/scramatte/orgs",
                "received_events_url": "https://api.github.com/users/scramatte/received_events",
                "repos_url": "https://api.github.com/users/scramatte/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scramatte/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scramatte/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scramatte"
            },
            "commit_id": null,
            "created_at": "2014-09-25T16:00:12Z",
            "event": "mentioned",
            "id": 170249194,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170249194"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/188766?v=3",
                "events_url": "https://api.github.com/users/scramatte/events{/privacy}",
                "followers_url": "https://api.github.com/users/scramatte/followers",
                "following_url": "https://api.github.com/users/scramatte/following{/other_user}",
                "gists_url": "https://api.github.com/users/scramatte/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scramatte",
                "id": 188766,
                "login": "scramatte",
                "organizations_url": "https://api.github.com/users/scramatte/orgs",
                "received_events_url": "https://api.github.com/users/scramatte/received_events",
                "repos_url": "https://api.github.com/users/scramatte/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scramatte/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scramatte/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scramatte"
            },
            "commit_id": null,
            "created_at": "2014-09-25T16:00:12Z",
            "event": "subscribed",
            "id": 170249195,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/170249195"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/985",
    "id": 43912905,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 985,
    "state": "open",
    "title": "whatsapi php daemon  disconnect ...",
    "updated_at": "2014-09-25T22:24:15Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/985",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/188766?v=3",
        "events_url": "https://api.github.com/users/scramatte/events{/privacy}",
        "followers_url": "https://api.github.com/users/scramatte/followers",
        "following_url": "https://api.github.com/users/scramatte/following{/other_user}",
        "gists_url": "https://api.github.com/users/scramatte/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/scramatte",
        "id": 188766,
        "login": "scramatte",
        "organizations_url": "https://api.github.com/users/scramatte/orgs",
        "received_events_url": "https://api.github.com/users/scramatte/received_events",
        "repos_url": "https://api.github.com/users/scramatte/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/scramatte/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scramatte/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/scramatte"
    }
}