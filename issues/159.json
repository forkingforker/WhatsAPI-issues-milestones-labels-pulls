{
    "assignee": null,
    "body": "Firstly, this is my first ever contribution to an open source project, I'm still learning the tools - so any mistakes are entirely mine! Go easy on me - point out the mistakes but no shouting ;)\r\n\r\nI have been looking at the MessageImage function in Whatsapi and was getting frustrated at having to build my own thumbnails every time I wanted to send an image.\r\n\r\nSo I decided to use the features of imagick that I hope most people have enabled in php to do this for me automatically when you try and send an image.\r\n\r\nThere is a full example of how to send an image as a message below. However I do have some questions that I don't know the answer too.\r\n\r\n1) In the MessageImage method, (around line 276 in whatsprot.class.php) what purpose does the line:\r\n**$mediaAttribs[\"file\"] = $file;**\r\n\r\nserve? Is this for Android for it to save the image to the phone as a particular filename?\r\n\r\n2)Why must we supply the image from a URL online, if an image exists on the server/computer we are sending from, why can we not use that? I have tried using a local file (not accessable via http request) and whilst the thumbnail worked perfectly I was unable to download the received message/image on the phone.\r\n\r\n3) I have no idea why there are so many edits in the src/php/whatsprot.class.php that seem to be related to removing blank lines and replacing them. If anyone can explain to this noob why that happened I'd be grateful.\r\n\r\n\r\nAnyway, I hope this helps someone else. Seems to be working very well here\r\n\r\n```php\r\n<?php\r\n    require \"whatsprot.class.php\";\r\n\r\n    $fromMobNumber = \"1234567890\";\r\n    $toMobNumber = \"0987654321\";\r\n    $id = \"<YOUR_MAC_OR_IEMI_DEPENDING_ON_PLATFORM>\";\r\n    $nick = \"YourNick\";\r\n    $imgurl = \"http://www.picastro.net/wp-content/uploads/2010/04/funny-dog-costume.jpg\";\r\n\r\n    $w = new WhatsProt($fromMobNumber, $id, $nick);\r\n    $w->Connect();\r\n    $w->Login();\r\n    $w->sendNickname($nick);\r\n\r\n    $w->MessageImage(time() . \"-1\", $toMobNumber, $imgurl);\r\n    sleep (4);\r\n    \r\n?>\r\n```",
    "closed_at": "2013-12-19T15:38:34Z",
    "comment_data": [
        {
            "body": "I got your script to work but realized that you are simply skipping the last three arguments. I have no answers to your questions (as I'm wondering myself) but think a workaround would be to create the thumbnail locally via imagemagick. You supply it with the URL of your image and then it creates a temporary thumbnail where your script can see it. Alternatively just use a default thumbnail every time.",
            "created_at": "2012-11-11T23:11:57Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10273808",
            "id": 10273808,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-11T23:11:57Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10273808",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2774004?v=3",
                "events_url": "https://api.github.com/users/wanker/events{/privacy}",
                "followers_url": "https://api.github.com/users/wanker/followers",
                "following_url": "https://api.github.com/users/wanker/following{/other_user}",
                "gists_url": "https://api.github.com/users/wanker/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wanker",
                "id": 2774004,
                "login": "wanker",
                "organizations_url": "https://api.github.com/users/wanker/orgs",
                "received_events_url": "https://api.github.com/users/wanker/received_events",
                "repos_url": "https://api.github.com/users/wanker/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wanker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wanker/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wanker"
            }
        },
        {
            "body": "No I don't think you've looked at the code.\r\n\r\nThe last 3 variables are not required to be passed to the MessageImage method any more because the method now:\r\nGets the image and puts the image contents into a variable\r\nCalculates the filesize\r\nResizes the image to create a thumbnail (100x100)\r\nWorks out the filename\r\n\r\nThat covers $file, $size, $icon\r\n\r\nIt's all automatic - its doing exactly what you suggested: \"to create the thumbnail locally via imagemagick. You supply it with the URL of your image and then it creates a temporary thumbnail\"\r\n\r\nIt doesn't even need to write the thumbnail to disk so it's very clean.\r\n\r\n\r\nWhat I did omit to say is that there is a second modification to the whatsprot.class.php file to implement a sendnick method so that it appears on iphones. https://github.com/venomous0x/WhatsAPI/pull/77\r\n\r\nHope you get/see it working too.",
            "created_at": "2012-11-11T23:28:30Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10273978",
            "id": 10273978,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-11T23:30:05Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10273978",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "works perfectly",
            "created_at": "2012-11-12T15:51:11Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10292465",
            "id": 10292465,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-12T15:51:11Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10292465",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2752593?v=3",
                "events_url": "https://api.github.com/users/manufuentescr/events{/privacy}",
                "followers_url": "https://api.github.com/users/manufuentescr/followers",
                "following_url": "https://api.github.com/users/manufuentescr/following{/other_user}",
                "gists_url": "https://api.github.com/users/manufuentescr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/manufuentescr",
                "id": 2752593,
                "login": "manufuentescr",
                "organizations_url": "https://api.github.com/users/manufuentescr/orgs",
                "received_events_url": "https://api.github.com/users/manufuentescr/received_events",
                "repos_url": "https://api.github.com/users/manufuentescr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/manufuentescr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/manufuentescr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/manufuentescr"
            }
        },
        {
            "body": "I can answer your questions:\r\n\r\n> 1) In the MessageImage method, (around line 276 in whatsprot.class.php) what purpose does the line: $mediaAttribs[\"file\"] = $file;\r\n\r\nthe mediaAttribs hash is passed into the ProtocolNode constructor and the key/value pairs in the hash are used as parameters in the generated xml. You should be able to see the key/values sent over whatsapp if you enable debugging. In this case the xml attribute is the name of the file, I don't know why it is required when the URL should be sufficient, but real whatsapp client puts it in there so I put in there as well.\r\n\r\n> 2)Why must we supply the image from a URL online, if an image exists on the server/computer we are sending from, why can we not use that? I have tried using a local file (not accessable via http request) and whilst the thumbnail worked perfectly I was unable to download the received message/image on the phone.\r\n\r\nIn order for the image to be available to the recipient then it must be accessible to the recipient, the protocol does not have any built in methods for sending the actual image to the recipient, it just sends a link, and the recipient can then download the image from that link. This of course could be automated if you have some storage space on the web, then you could donate it to this project and update the sources to take a local file and upload it to your web storage and then send a link to your web storage... but I doubt anyone will do that, so you are stuck manually uploading your images and then sending links to the manually uploaded image.\r\n\r\nThe thumbnail works because it is being base64 encoded and sent as part of the message, there appears to be size restrictions on the thumbnail however so sending a full HD style image is not possible with this method.\r\n\r\n> 3) I have no idea why there are so many edits in the src/php/whatsprot.class.php that seem to be related to removing blank lines and replacing them. If anyone can explain to this noob why that happened I'd be grateful.\r\n\r\nOK, I can't actually answer this question because I don't really know what you are talking about. :D \r\n\r\nhope this helps.",
            "created_at": "2012-11-12T17:00:59Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10295302",
            "id": 10295302,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-12T17:00:59Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10295302",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1149188?v=3",
                "events_url": "https://api.github.com/users/cdesjardins/events{/privacy}",
                "followers_url": "https://api.github.com/users/cdesjardins/followers",
                "following_url": "https://api.github.com/users/cdesjardins/following{/other_user}",
                "gists_url": "https://api.github.com/users/cdesjardins/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cdesjardins",
                "id": 1149188,
                "login": "cdesjardins",
                "organizations_url": "https://api.github.com/users/cdesjardins/orgs",
                "received_events_url": "https://api.github.com/users/cdesjardins/received_events",
                "repos_url": "https://api.github.com/users/cdesjardins/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cdesjardins/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cdesjardins/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/cdesjardins"
            }
        },
        {
            "body": "\r\n>1) In the MessageImage method, (around line 276 in whatsprot.class.php) what purpose does the line: $mediaAttribs[\"file\"] = $file;\r\n\r\n>debugging. In this case the xml attribute is the name of the file, I don't know why it is required when the URL should >be sufficient, but real whatsapp client puts it in there so I put in there as well.\r\n\r\nOK, that's all I wanted to know, that is fine with me, if WhatsApp wants to see a file name I have no problems supplying it!\r\n\r\n>2)Why must we supply the image from a URL online, if an image exists on the server/computer we are sending from, why can we not use that?\r\n\r\n>In order for the image to be available to the recipient then it must be accessible to the recipient, the protocol does not have any built in methods for sending the actual image to the recipient, it just sends a link, and the recipient can then download the image from that link.\r\n\r\nOk, on initial read that seems fair enough. But then I started thinking, when I use my iPhone, and I take a picture and then attach it to a message, it doesn't exist on an webserver at that moment of time.\r\n\r\nDoes WhatsAPP (company) itself have a storage space for user images sent via a normal mobile handset? How do they do this?\r\n\r\nThis isn't a critical feature, more a nice to have.\r\n\r\n>The thumbnail works because it is being base64 encoded and sent as part of the message, there appears to be size restrictions on the thumbnail however so sending a full HD style image is not possible with this method.\r\n\r\nYes I thought as much. Perhaps I should include code to ensure any thumbnail is within a certain filesize...\r\n\r\n>3) I have no idea why there are so many edits in the src/php/whatsprot.class.php that seem to be related to removing blank lines and replacing them. If anyone can explain to this noob why that happened I'd be grateful.\r\n\r\n>OK, I can't actually answer this question because I don't really know what you are talking about. :D\r\n\r\nI think it might have been an issue with netbeans, my IDE, when saving the file, it looked like it edited many of the blank lines in the original file giving the illusion of more file edits than were actually needed.\r\n\r\nI have no idea why!\r\n\r\n\r\n>hope this helps.\r\n\r\nYes it did, thank you for the reply.",
            "created_at": "2012-11-12T18:02:17Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10297598",
            "id": 10297598,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-12T18:02:17Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10297598",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "> Does WhatsAPP (company) itself have a storage space for user images sent via a normal mobile handset? How do they do this?\r\n\r\nYup, 100% if you send yourself an image from a real whatsapp client to whatsapi, and look at the message you get you will see that they in fact uploaded your image to their servers and then sent a link to their servers.",
            "created_at": "2012-11-12T18:09:21Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10297826",
            "id": 10297826,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-12T18:09:21Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10297826",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1149188?v=3",
                "events_url": "https://api.github.com/users/cdesjardins/events{/privacy}",
                "followers_url": "https://api.github.com/users/cdesjardins/followers",
                "following_url": "https://api.github.com/users/cdesjardins/following{/other_user}",
                "gists_url": "https://api.github.com/users/cdesjardins/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cdesjardins",
                "id": 1149188,
                "login": "cdesjardins",
                "organizations_url": "https://api.github.com/users/cdesjardins/orgs",
                "received_events_url": "https://api.github.com/users/cdesjardins/received_events",
                "repos_url": "https://api.github.com/users/cdesjardins/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cdesjardins/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cdesjardins/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/cdesjardins"
            }
        },
        {
            "body": ">Yup, 100% if you send yourself an image from a real whatsapp client to whatsapi, and look at the message you get you will see that they in fact uploaded your image to their servers and then sent a link to their servers.\r\n\r\nOooh. That's interesting. I might look into that to see if we can piggy back on that process!",
            "created_at": "2012-11-12T18:54:41Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10299460",
            "id": 10299460,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-12T18:54:41Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10299460",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "Hey Jonny - really sorry about being so thick. I just realized that I could access your branch from one of the tabs. So now I know what you really did - makes a lot more sense. I folded it into my code and will test it as soon as I get Imagick enabled on my server. Will let you know.",
            "created_at": "2012-11-14T15:18:41Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10369635",
            "id": 10369635,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-14T15:53:54Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10369635",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2774004?v=3",
                "events_url": "https://api.github.com/users/wanker/events{/privacy}",
                "followers_url": "https://api.github.com/users/wanker/followers",
                "following_url": "https://api.github.com/users/wanker/following{/other_user}",
                "gists_url": "https://api.github.com/users/wanker/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wanker",
                "id": 2774004,
                "login": "wanker",
                "organizations_url": "https://api.github.com/users/wanker/orgs",
                "received_events_url": "https://api.github.com/users/wanker/received_events",
                "repos_url": "https://api.github.com/users/wanker/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wanker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wanker/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wanker"
            }
        },
        {
            "body": "About the uploading of images to the whatsapp server. Yes, that's what I assumed it was doing. It was probably difficult for them to send an image directly to the other node. Maybe the three-node transfer makes it more reliable if one of the nodes gets disconnected. People log on/off all the time. So if I send you an image and you log off in mid-transfer it won't get there. By buffering the image in between they guarantee delivery next time the recipient logs on.",
            "created_at": "2012-11-14T15:31:33Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10370200",
            "id": 10370200,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-14T15:31:33Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10370200",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2774004?v=3",
                "events_url": "https://api.github.com/users/wanker/events{/privacy}",
                "followers_url": "https://api.github.com/users/wanker/followers",
                "following_url": "https://api.github.com/users/wanker/following{/other_user}",
                "gists_url": "https://api.github.com/users/wanker/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wanker",
                "id": 2774004,
                "login": "wanker",
                "organizations_url": "https://api.github.com/users/wanker/orgs",
                "received_events_url": "https://api.github.com/users/wanker/received_events",
                "repos_url": "https://api.github.com/users/wanker/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wanker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wanker/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wanker"
            }
        },
        {
            "body": "Take a look at this link to my code I changed in whatsprot.class.php (around line 260-280) and funcs.php (end).\r\n\r\nhttps://github.com/jonnywilliamson/WhatsAPI/commit/ca647ff3bd0d4e5a316ea5573d6cc0cd5ae78faa\r\n\r\nHopefully that explains it for you, if you edit your files to match that, you'll get thumbnails automatically.",
            "created_at": "2012-11-14T15:47:53Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10370921",
            "id": 10370921,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-14T15:47:53Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10370921",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "Hi Jonny - I just edited my dumba$$ comment to reflect that I just caught on. Sorry again for wasting your time. I'll get this running in no time - good work!",
            "created_at": "2012-11-14T15:54:42Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10371215",
            "id": 10371215,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-14T15:54:42Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10371215",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2774004?v=3",
                "events_url": "https://api.github.com/users/wanker/events{/privacy}",
                "followers_url": "https://api.github.com/users/wanker/followers",
                "following_url": "https://api.github.com/users/wanker/following{/other_user}",
                "gists_url": "https://api.github.com/users/wanker/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wanker",
                "id": 2774004,
                "login": "wanker",
                "organizations_url": "https://api.github.com/users/wanker/orgs",
                "received_events_url": "https://api.github.com/users/wanker/received_events",
                "repos_url": "https://api.github.com/users/wanker/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wanker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wanker/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wanker"
            }
        },
        {
            "body": "It's working perfectly. Kick a$$ :-)",
            "created_at": "2012-11-14T16:48:16Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10373467",
            "id": 10373467,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-14T16:48:16Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10373467",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2774004?v=3",
                "events_url": "https://api.github.com/users/wanker/events{/privacy}",
                "followers_url": "https://api.github.com/users/wanker/followers",
                "following_url": "https://api.github.com/users/wanker/following{/other_user}",
                "gists_url": "https://api.github.com/users/wanker/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wanker",
                "id": 2774004,
                "login": "wanker",
                "organizations_url": "https://api.github.com/users/wanker/orgs",
                "received_events_url": "https://api.github.com/users/wanker/received_events",
                "repos_url": "https://api.github.com/users/wanker/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wanker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wanker/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wanker"
            }
        },
        {
            "body": "I've got some questions about the protocol.\n\nWhat does this mean ?\n<ib from=\"s.whatsapp.net\">\n<offline count=\"4\"></offline>\n</ib>\n\nI realize when i send a message, allways receive a received node, and \nthey are acumulating... count 5.. count 6...\nonce I connect with the iphone client, they disapear and count = 0.\n\nIt is necesary to create any response after send a message ? why is this \nhappen?\n\nAnother question is that, people see me always offline, even I am \nreceiving messages.  is posible to notify the online and offline status \nindependent of connection ?\n\nthanks..\n\n\nEl 14/11/12 16:48, jonnywilliamson escribió:\n>\n> Take a look at this link to my code I changed in whatsprot.class.php \n> (around line 260-280) and funcs.php (end).\n>\n> jonnywilliamson@ca647ff \n> <https://github.com/jonnywilliamson/WhatsAPI/commit/ca647ff3bd0d4e5a316ea5573d6cc0cd5ae78faa>\n>\n> Hopefully that explains it for you, if you edit your files to match \n> that, you'll get thumbnails automatically.\n>\n> —\n> Reply to this email directly or view it on GitHub \n> <https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10370921>.\n>",
            "created_at": "2012-11-15T20:28:15Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10424051",
            "id": 10424051,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-15T20:28:15Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10424051",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1720990?v=3",
                "events_url": "https://api.github.com/users/dleivag/events{/privacy}",
                "followers_url": "https://api.github.com/users/dleivag/followers",
                "following_url": "https://api.github.com/users/dleivag/following{/other_user}",
                "gists_url": "https://api.github.com/users/dleivag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dleivag",
                "id": 1720990,
                "login": "dleivag",
                "organizations_url": "https://api.github.com/users/dleivag/orgs",
                "received_events_url": "https://api.github.com/users/dleivag/received_events",
                "repos_url": "https://api.github.com/users/dleivag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dleivag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dleivag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dleivag"
            }
        },
        {
            "body": "@dleivag - sorry you'll have to ask in a new issue because I don't have answers for your questions.",
            "created_at": "2012-11-16T11:46:40Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-10444626",
            "id": 10444626,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2012-11-16T11:46:40Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/10444626",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "Why isn't this in yet?",
            "created_at": "2013-12-19T15:17:04Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-30936203",
            "id": 30936203,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2013-12-19T15:17:04Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/30936203",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/604766?v=3",
                "events_url": "https://api.github.com/users/DurtyFree/events{/privacy}",
                "followers_url": "https://api.github.com/users/DurtyFree/followers",
                "following_url": "https://api.github.com/users/DurtyFree/following{/other_user}",
                "gists_url": "https://api.github.com/users/DurtyFree/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/DurtyFree",
                "id": 604766,
                "login": "DurtyFree",
                "organizations_url": "https://api.github.com/users/DurtyFree/orgs",
                "received_events_url": "https://api.github.com/users/DurtyFree/received_events",
                "repos_url": "https://api.github.com/users/DurtyFree/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/DurtyFree/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DurtyFree/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/DurtyFree"
            }
        },
        {
            "body": "Why don't you have a clue?\r\nhttps://github.com/venomous0x/WhatsAPI/blob/master/src/php/whatsprot.class.php#L2218\r\nhttps://github.com/venomous0x/WhatsAPI/blob/master/src/php/func.php#L47\r\n\r\nAnd his proposal uses ImageMagic which is quite an exotic library. We're using Lib GD as fallback in case it's not installed.\r\n\r\nMost of this stuff is more than a year old, so can you do some research before kicking old issues?",
            "created_at": "2013-12-19T15:25:40Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-30936986",
            "id": 30936986,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2013-12-19T15:25:40Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/30936986",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Sry, it's just that there isn't any Overview at all. Pull requests which are already done in anyway should be already closed. So not my fault.",
            "created_at": "2013-12-19T16:26:28Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159#issuecomment-30942695",
            "id": 30942695,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
            "updated_at": "2013-12-19T16:26:28Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/30942695",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/604766?v=3",
                "events_url": "https://api.github.com/users/DurtyFree/events{/privacy}",
                "followers_url": "https://api.github.com/users/DurtyFree/followers",
                "following_url": "https://api.github.com/users/DurtyFree/following{/other_user}",
                "gists_url": "https://api.github.com/users/DurtyFree/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/DurtyFree",
                "id": 604766,
                "login": "DurtyFree",
                "organizations_url": "https://api.github.com/users/DurtyFree/orgs",
                "received_events_url": "https://api.github.com/users/DurtyFree/received_events",
                "repos_url": "https://api.github.com/users/DurtyFree/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/DurtyFree/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DurtyFree/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/DurtyFree"
            }
        }
    ],
    "comments": 17,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159/comments",
    "created_at": "2012-11-11T19:48:03Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1720990?v=3",
                "events_url": "https://api.github.com/users/dleivag/events{/privacy}",
                "followers_url": "https://api.github.com/users/dleivag/followers",
                "following_url": "https://api.github.com/users/dleivag/following{/other_user}",
                "gists_url": "https://api.github.com/users/dleivag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dleivag",
                "id": 1720990,
                "login": "dleivag",
                "organizations_url": "https://api.github.com/users/dleivag/orgs",
                "received_events_url": "https://api.github.com/users/dleivag/received_events",
                "repos_url": "https://api.github.com/users/dleivag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dleivag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dleivag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dleivag"
            },
            "commit_id": null,
            "created_at": "2012-11-16T11:46:40Z",
            "event": "mentioned",
            "id": 29711643,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/29711643"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1720990?v=3",
                "events_url": "https://api.github.com/users/dleivag/events{/privacy}",
                "followers_url": "https://api.github.com/users/dleivag/followers",
                "following_url": "https://api.github.com/users/dleivag/following{/other_user}",
                "gists_url": "https://api.github.com/users/dleivag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dleivag",
                "id": 1720990,
                "login": "dleivag",
                "organizations_url": "https://api.github.com/users/dleivag/orgs",
                "received_events_url": "https://api.github.com/users/dleivag/received_events",
                "repos_url": "https://api.github.com/users/dleivag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dleivag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dleivag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dleivag"
            },
            "commit_id": null,
            "created_at": "2012-11-16T11:46:40Z",
            "event": "subscribed",
            "id": 29711645,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/29711645"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-12-19T15:38:34Z",
            "event": "closed",
            "id": 82592727,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/82592727"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159",
    "id": 8275039,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 159,
    "pull_request": {
        "diff_url": "https://github.com/venomous0x/WhatsAPI/pull/159.diff",
        "html_url": "https://github.com/venomous0x/WhatsAPI/pull/159",
        "patch_url": "https://github.com/venomous0x/WhatsAPI/pull/159.patch",
        "url": "https://api.github.com/repos/venomous0x/WhatsAPI/pulls/159"
    },
    "state": "closed",
    "title": "Auto Thumbnail creation for sent images",
    "updated_at": "2013-12-19T16:26:28Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/159",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
        "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
        "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
        "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
        "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jonnywilliamson",
        "id": 2513663,
        "login": "jonnywilliamson",
        "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
        "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
        "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jonnywilliamson"
    }
}