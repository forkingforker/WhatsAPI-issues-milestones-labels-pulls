{
    "assignee": null,
    "body": "I want to see the group my WhatsApp is associated with. currently '$groupList' from the main class file is always NULL.\r\n\r\nIs there any way to do that?",
    "closed_at": "2013-11-30T11:27:14Z",
    "comment_data": [
        {
            "body": "By using the event system\r\nhttps://github.com/shirioko/WhatsAPI/wiki/WhatsApi-events\r\n\r\n```php\r\nfunction onGroupList($mynumber, $groupList)\r\n{\r\n    print_r($groupList);\r\n}\r\n\r\n$w = new WhatsProt($username, $identity, $nickname, false);\r\n$w->eventManager()->bind(\"onGetGroupList\", \"onGroupList\");\r\n$w->connect();\r\n$w->loginWithPassword($password);\r\n$w->sendGetGroups();\r\nfor($i = 0; $i < 5; $i++) {\r\n    $w->pollMessages();\r\n}\r\n```",
            "created_at": "2013-07-12T10:30:25Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/405#issuecomment-20869340",
            "id": 20869340,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405",
            "updated_at": "2013-07-12T10:30:25Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/20869340",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "I tried above code and it doesn't work for me. Then I tried to enable debug by having $w = new WhatsProt($username, $identity, $nickname, true); then I can see from debug messages that actually group list is being received. I don't understand then why it is not coming to my onGroupList call back?",
            "created_at": "2013-11-29T11:40:01Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/405#issuecomment-29511357",
            "id": 29511357,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405",
            "updated_at": "2013-11-29T11:40:01Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/29511357",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5955173?v=3",
                "events_url": "https://api.github.com/users/higauravbhai/events{/privacy}",
                "followers_url": "https://api.github.com/users/higauravbhai/followers",
                "following_url": "https://api.github.com/users/higauravbhai/following{/other_user}",
                "gists_url": "https://api.github.com/users/higauravbhai/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/higauravbhai",
                "id": 5955173,
                "login": "higauravbhai",
                "organizations_url": "https://api.github.com/users/higauravbhai/orgs",
                "received_events_url": "https://api.github.com/users/higauravbhai/received_events",
                "repos_url": "https://api.github.com/users/higauravbhai/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/higauravbhai/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/higauravbhai/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/higauravbhai"
            }
        },
        {
            "body": "Change this line:\r\n```php\r\n$w->eventManager()->bind(\"onGetGroupList\", \"onGroupList\");\r\n```\r\nto\r\n```php\r\n$w->eventManager()->bind(\"onGetGroups\", \"onGroupList\");\r\n```",
            "created_at": "2013-11-30T11:27:53Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/405#issuecomment-29550708",
            "id": 29550708,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405",
            "updated_at": "2013-11-30T11:27:53Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/29550708",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "I tried your suggestion but it is still not working for me. Following is my code. \r\n\r\nfunction onGroupList($mynumber,$grouplist)\r\n{\r\n        echo \"Message from Group\\n\";\r\n        var_dump($mynumber);\r\n        var_dump($grouplist);\r\n        return;\r\n}\r\n\r\n$username = \"xxxxxxxxxxx\";\r\n$identity = strtolower(urlencode(sha1($username, true)));\r\n$dbg = false;\r\n$w = new WhatsProt($username, $identity, \"Cosmic\", $dbg);\r\n$password =  'xxxxxxxxxxxxxxx';\r\n$w->Connect();\r\n$w->LoginWithPassword($password);\r\n$w->eventManager()->bind(\"onGetGroups\",\"onGroupList\");\r\n$w->sendGetGroups();\r\nfor($i=0; $i<5; $i++)\r\n{\r\n        $w->pollMessages();\r\n}\r\n",
            "created_at": "2013-11-30T12:09:56Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/405#issuecomment-29551277",
            "id": 29551277,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405",
            "updated_at": "2013-11-30T12:09:56Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/29551277",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5955173?v=3",
                "events_url": "https://api.github.com/users/higauravbhai/events{/privacy}",
                "followers_url": "https://api.github.com/users/higauravbhai/followers",
                "following_url": "https://api.github.com/users/higauravbhai/following{/other_user}",
                "gists_url": "https://api.github.com/users/higauravbhai/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/higauravbhai",
                "id": 5955173,
                "login": "higauravbhai",
                "organizations_url": "https://api.github.com/users/higauravbhai/orgs",
                "received_events_url": "https://api.github.com/users/higauravbhai/received_events",
                "repos_url": "https://api.github.com/users/higauravbhai/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/higauravbhai/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/higauravbhai/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/higauravbhai"
            }
        },
        {
            "body": "Then I guess you missed my commit https://github.com/venomous0x/WhatsAPI/issues/405#ref-commit-5989e19\r\n\r\nDownload the latest code and try again.",
            "created_at": "2013-11-30T12:12:21Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/405#issuecomment-29551305",
            "id": 29551305,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405",
            "updated_at": "2013-11-30T12:12:21Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/29551305",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Yes, after downloading latest code, it works fine. Thanks lot",
            "created_at": "2013-12-04T08:08:51Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/405#issuecomment-29786394",
            "id": 29786394,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405",
            "updated_at": "2013-12-04T08:08:51Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/29786394",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5955173?v=3",
                "events_url": "https://api.github.com/users/higauravbhai/events{/privacy}",
                "followers_url": "https://api.github.com/users/higauravbhai/followers",
                "following_url": "https://api.github.com/users/higauravbhai/following{/other_user}",
                "gists_url": "https://api.github.com/users/higauravbhai/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/higauravbhai",
                "id": 5955173,
                "login": "higauravbhai",
                "organizations_url": "https://api.github.com/users/higauravbhai/orgs",
                "received_events_url": "https://api.github.com/users/higauravbhai/received_events",
                "repos_url": "https://api.github.com/users/higauravbhai/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/higauravbhai/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/higauravbhai/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/higauravbhai"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405/comments",
    "created_at": "2013-07-12T10:20:40Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": "5989e196dc0714a2a1ac4e18ef22e52ae4acc029",
            "created_at": "2013-11-30T11:26:15Z",
            "event": "referenced",
            "id": 78878291,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/78878291"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": "5989e196dc0714a2a1ac4e18ef22e52ae4acc029",
            "created_at": "2013-11-30T11:27:14Z",
            "event": "closed",
            "id": 78878309,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/78878309"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/405",
    "id": 16675200,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 405,
    "state": "closed",
    "title": "Getting the group list",
    "updated_at": "2013-12-04T08:08:51Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/405",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4948024?v=3",
        "events_url": "https://api.github.com/users/doadam2/events{/privacy}",
        "followers_url": "https://api.github.com/users/doadam2/followers",
        "following_url": "https://api.github.com/users/doadam2/following{/other_user}",
        "gists_url": "https://api.github.com/users/doadam2/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/doadam2",
        "id": 4948024,
        "login": "doadam2",
        "organizations_url": "https://api.github.com/users/doadam2/orgs",
        "received_events_url": "https://api.github.com/users/doadam2/received_events",
        "repos_url": "https://api.github.com/users/doadam2/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/doadam2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/doadam2/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/doadam2"
    }
}