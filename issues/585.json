{
    "assignee": null,
    "body": "Hi,\r\n\r\nIs there any way to let the bot poll for messages without coming online?\r\nSo if there are now messages the bot keeps offline, but if a user sends a message the bot goes online and after some inactivity auto offline?\r\n\r\nGrtz,\r\n\r\nMatthijs \r\n\r\nSorry for my bad english because i'm dutch :)",
    "closed_at": null,
    "comment_data": [
        {
            "body": "Being Dutch is no excuse for poor language. You dishonor your famiry!\r\n![37313068](https://f.cloud.github.com/assets/1610953/1984878/35ebee8e-8434-11e3-902c-28ab46ceb4eb.jpg)\r\n\r\nhttps://github.com/venomous0x/WhatsAPI/blob/master/src/php/whatsprot.class.php#L1560\r\nReplace SendPresence() with SendOfflineStatus() so you will show up as offline when logged in.\r\n\r\nThen listen for messages and call SendPresence() when you receive one to go online.\r\n\r\nFor going back offline you can either set a timer for calling SendOfflineStatus() or simply let the connection time out and reconnect to WhatsApp using SendOfflineStatus()",
            "created_at": "2014-01-23T13:46:14Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/585#issuecomment-33124560",
            "id": 33124560,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585",
            "updated_at": "2014-01-23T13:47:16Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/33124560",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Can you give me an example code?",
            "created_at": "2014-01-23T15:47:46Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/585#issuecomment-33135309",
            "id": 33135309,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585",
            "updated_at": "2014-01-23T15:47:46Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/33135309",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=3",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ghost",
                "id": 10137,
                "login": "ghost",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ghost"
            }
        },
        {
            "body": "Hi,\r\n\r\nfirst of all, sorry for pulling out this old post!\r\nLike the thread starter i'm trying to poll messages without being online. Unfortunately the link you provided is dead and i can't find the functions SendPresence() or SendOfflineStatus() being called anywhere in the official whatsprot.class.php :/\r\nIs it still possible to acheive what you described by replacing these functions somewhere in the code? Or is there another possible way of doing it?\r\n\r\nThanks for your help :)\r\nÂ°|~ Simon",
            "created_at": "2015-03-06T10:59:28Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/585#issuecomment-77541995",
            "id": 77541995,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585",
            "updated_at": "2015-03-06T10:59:28Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/77541995",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11348705?v=3",
                "events_url": "https://api.github.com/users/simonthx/events{/privacy}",
                "followers_url": "https://api.github.com/users/simonthx/followers",
                "following_url": "https://api.github.com/users/simonthx/following{/other_user}",
                "gists_url": "https://api.github.com/users/simonthx/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/simonthx",
                "id": 11348705,
                "login": "simonthx",
                "organizations_url": "https://api.github.com/users/simonthx/orgs",
                "received_events_url": "https://api.github.com/users/simonthx/received_events",
                "repos_url": "https://api.github.com/users/simonthx/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/simonthx/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/simonthx/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/simonthx"
            }
        },
        {
            "body": "This repo its inactive use https://github.com/mgp25/WhatsAPI-Official instead\n\nRegards",
            "created_at": "2015-03-06T11:02:32Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/585#issuecomment-77542370",
            "id": 77542370,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585",
            "updated_at": "2015-03-06T11:02:32Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/77542370",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
                "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
                "followers_url": "https://api.github.com/users/mgp25/followers",
                "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
                "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mgp25",
                "id": 5390120,
                "login": "mgp25",
                "organizations_url": "https://api.github.com/users/mgp25/orgs",
                "received_events_url": "https://api.github.com/users/mgp25/received_events",
                "repos_url": "https://api.github.com/users/mgp25/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mgp25"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585/comments",
    "created_at": "2014-01-20T14:29:02Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/585",
    "id": 25922181,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 585,
    "state": "open",
    "title": "Bot auto online/offline",
    "updated_at": "2015-03-06T11:02:32Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/585",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=3",
        "events_url": "https://api.github.com/users/ghost/events{/privacy}",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following{/other_user}",
        "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ghost",
        "id": 10137,
        "login": "ghost",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ghost"
    }
}