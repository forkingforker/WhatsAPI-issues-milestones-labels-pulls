{
    "assignee": null,
    "body": "Hi! I have been trying the API and it works very good. However as it doesn't has a manual, I was trying different ways of keeping my client connected in order to get the messages.\r\n\r\nThe thing is, as it runs as a PHP script, usually PHP is not prepared for being executed continuously, so what's the idea behind this api in order to get the messages if we don't have a sort of interruption or callback mechanism ?\r\nShall i execute my script every T priods of times and check if I have received something?, like a polling request ?\r\n\r\nShall i configure my web server in order to allow infinite amount of execution time of the scripts and keeps my PHP get messages executing all the day ?\r\n\r\n\r\nThanks!\r\n\r\nNAcho",
    "closed_at": "2013-07-13T08:08:50Z",
    "comment_data": [
        {
            "body": "We do have an interruption mechanism called eventManager. You can create your own callback functions and bind them to the eventManager.\r\nhttps://github.com/shirioko/WhatsAPI/wiki/WhatsApi-events\r\n(see the example at the end of the wiki page)\r\nAll you need to do is add an event handler for onGetMessage, bind it, and create a while loop:\r\n```php\r\nwhile(true)\r\n{\r\n    $w->PollMessages();\r\n    sleep(1);//you can remove this sleep but it might stress out your web server worker process\r\n}\r\n```\r\n\r\nYou don't need to change your webserver settings, you can simply call\r\n```php\r\nset_time_limit(0);\r\n```\r\nat the beginning of your script and it will keep running forever.\r\n\r\nYou can also take a look at /src/php/ajaxDemo/socket.php. This script also runs continuously in the background.",
            "created_at": "2013-07-10T14:49:04Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/400#issuecomment-20747337",
            "id": 20747337,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/400",
            "updated_at": "2013-07-10T14:53:13Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/20747337",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Oh nice seems like you guys already though in everything! good job!\r\n\r\nWell now i was just wondering if I neccesary had to call the PollMessages function in order to get the callback functions called whenever an event occurs.\r\n\r\nThanks!",
            "created_at": "2013-07-10T15:49:43Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/400#issuecomment-20751861",
            "id": 20751861,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/400",
            "updated_at": "2013-07-10T15:49:43Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/20751861",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4359182?v=3",
                "events_url": "https://api.github.com/users/nachourpi/events{/privacy}",
                "followers_url": "https://api.github.com/users/nachourpi/followers",
                "following_url": "https://api.github.com/users/nachourpi/following{/other_user}",
                "gists_url": "https://api.github.com/users/nachourpi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nachourpi",
                "id": 4359182,
                "login": "nachourpi",
                "organizations_url": "https://api.github.com/users/nachourpi/orgs",
                "received_events_url": "https://api.github.com/users/nachourpi/received_events",
                "repos_url": "https://api.github.com/users/nachourpi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nachourpi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nachourpi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nachourpi"
            }
        },
        {
            "body": "the AjaxDemo does not send out messages. Even if I set the time_limit to 10 so that session lock doesnt interfere. I am still baffled how to SAFELY keep the script online forever without logging you out or script stopping execution.... ",
            "created_at": "2014-08-18T15:26:28Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/400#issuecomment-52508004",
            "id": 52508004,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/400",
            "updated_at": "2014-08-18T15:26:28Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/52508004",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7437424?v=3",
                "events_url": "https://api.github.com/users/8DigitalStaging/events{/privacy}",
                "followers_url": "https://api.github.com/users/8DigitalStaging/followers",
                "following_url": "https://api.github.com/users/8DigitalStaging/following{/other_user}",
                "gists_url": "https://api.github.com/users/8DigitalStaging/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/8DigitalStaging",
                "id": 7437424,
                "login": "8DigitalStaging",
                "organizations_url": "https://api.github.com/users/8DigitalStaging/orgs",
                "received_events_url": "https://api.github.com/users/8DigitalStaging/received_events",
                "repos_url": "https://api.github.com/users/8DigitalStaging/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/8DigitalStaging/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/8DigitalStaging/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/8DigitalStaging"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/400/comments",
    "created_at": "2013-07-10T13:53:39Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-07-13T08:08:50Z",
            "event": "closed",
            "id": 56393872,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/56393872"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/400/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/400",
    "id": 16578281,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/400/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 400,
    "state": "closed",
    "title": "Best way to keep connected and polling messages",
    "updated_at": "2014-08-18T15:26:28Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/400",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/4359182?v=3",
        "events_url": "https://api.github.com/users/nachourpi/events{/privacy}",
        "followers_url": "https://api.github.com/users/nachourpi/followers",
        "following_url": "https://api.github.com/users/nachourpi/following{/other_user}",
        "gists_url": "https://api.github.com/users/nachourpi/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/nachourpi",
        "id": 4359182,
        "login": "nachourpi",
        "organizations_url": "https://api.github.com/users/nachourpi/orgs",
        "received_events_url": "https://api.github.com/users/nachourpi/received_events",
        "repos_url": "https://api.github.com/users/nachourpi/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/nachourpi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nachourpi/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/nachourpi"
    }
}