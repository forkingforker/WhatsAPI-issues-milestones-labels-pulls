{
    "assignee": null,
    "body": " https://mms.whatsapp.net/client/iphone/upload.php host apparently unresponsive, someone also has problems loading the images to the server?",
    "closed_at": "2013-06-20T16:20:29Z",
    "comment_data": [
        {
            "body": "i also! have you solved?",
            "created_at": "2013-03-28T17:55:08Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-15603957",
            "id": 15603957,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-03-28T17:55:08Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/15603957",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3985075?v=3",
                "events_url": "https://api.github.com/users/wdevpromo/events{/privacy}",
                "followers_url": "https://api.github.com/users/wdevpromo/followers",
                "following_url": "https://api.github.com/users/wdevpromo/following{/other_user}",
                "gists_url": "https://api.github.com/users/wdevpromo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wdevpromo",
                "id": 3985075,
                "login": "wdevpromo",
                "organizations_url": "https://api.github.com/users/wdevpromo/orgs",
                "received_events_url": "https://api.github.com/users/wdevpromo/received_events",
                "repos_url": "https://api.github.com/users/wdevpromo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wdevpromo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wdevpromo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wdevpromo"
            }
        },
        {
            "body": "I see that yowsup has this now fixed. It looks like they no longer send the image to a URL but include it in a node instead.\r\n\r\nI will look at this and see if I can import this into whatsapp but I'm not sure I'm capable of it! So if someone else with more skill can take a look, it might be a better idea.\r\n\r\nHere's the relevant commit in yowsup \r\n\r\nhttps://github.com/tgalal/yowsup/commit/f586ead9ebec89b841ec736f0dc330b06a7f8917",
            "created_at": "2013-04-12T08:22:21Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-16281175",
            "id": 16281175,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-04-12T08:22:21Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16281175",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "Check out the SetProfilePicture method I committed last night (3:00 AM,\r\nfml...). It sends the contents of the image file inside a protocol node.\r\nConverting it to send images to other users shouldn't take more than a few\r\ndifferent arguments ;)\r\n\r\nEDIT:\r\nTook a bit more than just a few arguments, about half a day.. :\")",
            "created_at": "2013-04-12T09:07:57Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-16283001",
            "id": 16283001,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-04-12T15:41:40Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16283001",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Fixed! ^^\r\n\r\nhttps://github.com/shirioko/WhatsAPI/commit/2172cc1ceb137af01fe2de3f3fa99261deefa980\r\n\r\nNow just waiting for that pull...\r\n\r\nEDIT:\r\nMaybe a bit of explanation about the latest update..\r\n\r\nYou have to send an \"iq/media\" node to whatsapp containing the SHA-256 hash of the file you want to send.\r\n\r\nIf whatsapp recognizes the hash, it assumes that the same file has been uploaded before, and you will receive an \"iq/duplicate\" node containing the image details (url, size, hash etc.). You don't need to upload the file. \r\n\r\nIf the hash is unknown, you will receive an \"iq/media\" node containing a URL. You'll have to send the image file through a TCP socket to that URL (coded in /src/php/mediauploader.php). This will result in a JSON response containing the file details.\r\n\r\nAfter this is done you create a \"media\" node with the details you received and send it in a \"message\" node.",
            "created_at": "2013-04-12T15:32:53Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-16299659",
            "id": 16299659,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-04-12T16:09:02Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16299659",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Thank you, works perfectly !",
            "created_at": "2013-04-12T16:22:42Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-16302357",
            "id": 16302357,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-04-12T16:22:42Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16302357",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2752593?v=3",
                "events_url": "https://api.github.com/users/manufuentescr/events{/privacy}",
                "followers_url": "https://api.github.com/users/manufuentescr/followers",
                "following_url": "https://api.github.com/users/manufuentescr/following{/other_user}",
                "gists_url": "https://api.github.com/users/manufuentescr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/manufuentescr",
                "id": 2752593,
                "login": "manufuentescr",
                "organizations_url": "https://api.github.com/users/manufuentescr/orgs",
                "received_events_url": "https://api.github.com/users/manufuentescr/received_events",
                "repos_url": "https://api.github.com/users/manufuentescr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/manufuentescr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/manufuentescr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/manufuentescr"
            }
        },
        {
            "body": "Excellent! Care to close this issue then? :)",
            "created_at": "2013-04-12T16:28:17Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-16302676",
            "id": 16302676,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-04-12T16:28:17Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16302676",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "This is excellent! That's way more complicated than the old method but I can understand why they did this.\r\n\r\nI have another small update in the pipeline to your code to add the ability to provide a URL to an image instead of requiring the original image to be on your server. The functions like filesize() etc do not work on URL's so I had to change a few things to accommodate both types.",
            "created_at": "2013-04-14T15:59:55Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-16353329",
            "id": 16353329,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-04-14T15:59:55Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16353329",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "That's true, I only focused on uploading local files :)",
            "created_at": "2013-04-14T16:02:17Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-16353368",
            "id": 16353368,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-04-14T16:02:17Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16353368",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "fixed in https://github.com/venomous0x/WhatsAPI/commit/630b599422dd35c4066d8768fb298e10ce66acf6",
            "created_at": "2013-06-20T16:20:29Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308#issuecomment-19764253",
            "id": 19764253,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
            "updated_at": "2013-06-20T16:20:29Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19764253",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        }
    ],
    "comments": 9,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308/comments",
    "created_at": "2013-03-25T22:00:31Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-06-20T16:20:29Z",
            "event": "closed",
            "id": 53468935,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/53468935"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/308",
    "id": 12425120,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 308,
    "state": "closed",
    "title": "problems with upload",
    "updated_at": "2013-06-20T16:20:29Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/308",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2752593?v=3",
        "events_url": "https://api.github.com/users/manufuentescr/events{/privacy}",
        "followers_url": "https://api.github.com/users/manufuentescr/followers",
        "following_url": "https://api.github.com/users/manufuentescr/following{/other_user}",
        "gists_url": "https://api.github.com/users/manufuentescr/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/manufuentescr",
        "id": 2752593,
        "login": "manufuentescr",
        "organizations_url": "https://api.github.com/users/manufuentescr/orgs",
        "received_events_url": "https://api.github.com/users/manufuentescr/received_events",
        "repos_url": "https://api.github.com/users/manufuentescr/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/manufuentescr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/manufuentescr/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/manufuentescr"
    }
}