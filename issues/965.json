{
    "assignee": null,
    "body": "Hi,\r\n\r\nI can not understand the process to see if a message has been delivered to a client. I would need to know the outcome of sending a message even after many hours.\r\nIt may indeed happen that the device to which the message is sent when sending off but, at the time of restart, the message would be delivered and I would like to know if this has happened.\r\n\r\nI have read more than a discussion on this topic but have not managed to sort it out.\r\n\r\nTo address this\r\nhttps://github.com/venomous0x/WhatsAPI/issues/484\r\n\r\nI found this code that I thought would work, but it did not happen:\r\n\r\nonServerReceived function ($ mynumber, $ from, $ id, $ type, $ t)\r\n{\r\n     echo \"Message id for $ $ from delivered to server on $ t \\ n\";\r\n}\r\n\r\nonClientReceived function ($ mynumber, $ from, $ id, $ type, $ t)\r\n{\r\n     echo \"Message $ id read by on $ t $ from \\ n\";\r\n}\r\n\r\n$ w = new WhatsProt ($ username, $ identity, $ nickname, true);\r\n$ w-> EventManager () -> bind (\"onMessageReceivedServer\", \"onServerReceived\");\r\n$ w-> EventManager () -> bind (\"onMessageReceivedClient\", \"onClientReceived\");\r\n$ w-> connect ();\r\n$ w-> loginWithPassword ($ password);\r\nwhile (true)\r\n{\r\n     $ w-> pollMessages ();\r\n}\r\n\r\nThis works as long as it is launched immediately after sending the message, otherwise it returns im just a blank page.\r\nIncidentally, I did not understand the \"onServerReceived\" since I can not see why the message\r\n\"Message id for $ $ from delivered to server on $ t \\ n\"\r\n\r\nGoing back to my problem, I can get at the time of the id of the message composed in the form (for example)\r\n\r\nmessage-1411034207-3\r\n\r\nI would like to figure out how to get a response from the sender, using onMessageReceivedClient passing this id, and whether that message has been delivered or not.\r\n\r\nSomeone please help me?",
    "closed_at": null,
    "comment_data": [
        {
            "body": "You need to save the id of the sent message.\r\nThen check it with the notifications that may come later (immediately, minutes after, hours or days).\r\nThere is no other way.",
            "created_at": "2014-09-18T22:53:54Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/965#issuecomment-56114939",
            "id": 56114939,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/965",
            "updated_at": "2014-09-18T22:53:54Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56114939",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/364190?v=3",
                "events_url": "https://api.github.com/users/hgc2002/events{/privacy}",
                "followers_url": "https://api.github.com/users/hgc2002/followers",
                "following_url": "https://api.github.com/users/hgc2002/following{/other_user}",
                "gists_url": "https://api.github.com/users/hgc2002/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hgc2002",
                "id": 364190,
                "login": "hgc2002",
                "organizations_url": "https://api.github.com/users/hgc2002/orgs",
                "received_events_url": "https://api.github.com/users/hgc2002/received_events",
                "repos_url": "https://api.github.com/users/hgc2002/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hgc2002/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hgc2002/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hgc2002"
            }
        },
        {
            "body": "Ok, I've saved the id of the message in the form of message-xxxxxxxxx-x. What is not clear to me is how to query the server to see if it has delivered or not.\r\nI do not understand why the script that I'm using only works immediately after sending my message and not, for example, after 30 seconds.\r\nI'm doing something wrong in the script? Or use the id of the message that is not correct?\r\nCan anyone give me an example of working code that can solve my problem?\r\n\r\nThank you for your attention",
            "created_at": "2014-09-19T05:51:47Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/965#issuecomment-56137801",
            "id": 56137801,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/965",
            "updated_at": "2014-09-19T05:51:47Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/56137801",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8816430?v=3",
                "events_url": "https://api.github.com/users/fraxxx1/events{/privacy}",
                "followers_url": "https://api.github.com/users/fraxxx1/followers",
                "following_url": "https://api.github.com/users/fraxxx1/following{/other_user}",
                "gists_url": "https://api.github.com/users/fraxxx1/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fraxxx1",
                "id": 8816430,
                "login": "fraxxx1",
                "organizations_url": "https://api.github.com/users/fraxxx1/orgs",
                "received_events_url": "https://api.github.com/users/fraxxx1/received_events",
                "repos_url": "https://api.github.com/users/fraxxx1/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fraxxx1/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fraxxx1/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fraxxx1"
            }
        },
        {
            "body": "okay if i have message IDs in array how i can check receipt of the message\r\nanyone help please ",
            "created_at": "2014-11-22T00:34:00Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/965#issuecomment-64059605",
            "id": 64059605,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/965",
            "updated_at": "2014-11-22T00:34:00Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/64059605",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9613683?v=3",
                "events_url": "https://api.github.com/users/mrssam/events{/privacy}",
                "followers_url": "https://api.github.com/users/mrssam/followers",
                "following_url": "https://api.github.com/users/mrssam/following{/other_user}",
                "gists_url": "https://api.github.com/users/mrssam/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mrssam",
                "id": 9613683,
                "login": "mrssam",
                "organizations_url": "https://api.github.com/users/mrssam/orgs",
                "received_events_url": "https://api.github.com/users/mrssam/received_events",
                "repos_url": "https://api.github.com/users/mrssam/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mrssam/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mrssam/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mrssam"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/965/comments",
    "created_at": "2014-09-18T11:01:13Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/965/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/965",
    "id": 43120465,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/965/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 965,
    "state": "open",
    "title": "confirms receipt of the message",
    "updated_at": "2014-11-22T00:34:00Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/965",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/8816430?v=3",
        "events_url": "https://api.github.com/users/fraxxx1/events{/privacy}",
        "followers_url": "https://api.github.com/users/fraxxx1/followers",
        "following_url": "https://api.github.com/users/fraxxx1/following{/other_user}",
        "gists_url": "https://api.github.com/users/fraxxx1/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/fraxxx1",
        "id": 8816430,
        "login": "fraxxx1",
        "organizations_url": "https://api.github.com/users/fraxxx1/orgs",
        "received_events_url": "https://api.github.com/users/fraxxx1/received_events",
        "repos_url": "https://api.github.com/users/fraxxx1/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/fraxxx1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fraxxx1/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/fraxxx1"
    }
}