{
    "assignee": null,
    "body": "I have some doubts about how WhatsApp verification works. Let me explain:\r\n\r\nI have a number working fine in my device. So i want to use it as always in WhatsAPI, so i generate a password for it.\r\n\r\nAnd i get this as always:\r\n```\r\nArray\r\n(\r\n    [cc] => 34\r\n    [in] => MYNUMBER\r\n    [to] => 34MYNUMBER\r\n    [lg] => es\r\n    [lc] => ES\r\n    [method] => sms\r\n    [mcc] => 214\r\n    [mnc] => 001\r\n    [token] => TOKEN\r\n    [id] => ID\r\n)\r\nstdClass Object\r\n(\r\n    [status] => ok\r\n    [login] => 34MYNUMBER\r\n    [pw] => MYPASSWD\r\n    [type] => existing\r\n    [expiration] => 4444444444\r\n    [kind] => free\r\n    [price] => 0,89 â‚¬\r\n    [cost] => 0.89\r\n    [currency] => EUR\r\n    [price_expiration] => 1404603590\r\n)\r\n```\r\nWhen i try to use WhatsAPI:\r\n```\r\n[*] Logging in as 'Marcos' (34MYNUMBER)\r\ntx  <stream:features></stream:features>\r\n\r\ntx  <auth xmlns=\"urn:ietf:params:xml:ns:xmpp-sasl\" mechanism=\"WAUTH-2\" user=\"34MYNUMBER\"></auth>\r\n\r\nrx  <start from=\"s.whatsapp.net\"></start>\r\n\r\nrx  <stream:features></stream:features>\r\n\r\nrx  <challenge>??UgN?Z??+??????z=F</challenge>\r\n\r\ntx  <response xmlns=\"urn:ietf:params:xml:ns:xmpp-sasl\">?c?*\"?N???????4Xna_?_?J???u??b\\</response>\r\n\r\nrx  <failure>\r\nrx    <not-authorized></not-authorized>\r\nrx  </failure>\r\n\r\n\r\nFatal error: Uncaught exception 'Exception' with message 'Login Failure' in /Users/mgp25/Desktop/test/src/php/whatsprot.class.php:1618\r\nStack trace:\r\n#0 /Users/mgp25/Desktop/test/src/php/whatsprot.class.php(465): WhatsProt->doLogin()\r\n#1 /Users/mgp25/Desktop/test/test.php(96): WhatsProt->loginWithPassword('MYPASSWD')\r\n#2 {main}\r\n  thrown in /Users/mgp25/Desktop/test/src/php/whatsprot.class.php on line 1618\r\n```\r\nAs you can see above, im not authorized to use their service, so i go back on my mobile phone, do the verification with my device, and it works perfect.\r\n\r\nSorry for the dimensions of the images, later i will resize them :/\r\n\r\n![proof](http://f.cl.ly/items/141a003I2i0q1v0Q1T2T/IMG_5650.PNG) ![proof2](http://f.cl.ly/items/2E3P1k453v191m3Q2P3c/la%20foto.PNG)\r\n\r\n**My question is...**\r\n\r\nSo i think WhatsApp is trying to block users that uses WhatsAPI but not the number, because i can still use it without problems. But when trying to use WhatsAPI i cant, so... \r\n\r\nAre we a Samsung device for WhatsApp Servers or they can recognize that we are using WhatsAPI?\r\n\r\n**UPDATE:** Thanks to #716 and @shirioko (in 716) i know whats happening, and possilbly make a successful registration. Sorry guys, if i do it, im not going to share it, because of the spammers and that.\r\n\r\nHave a nice day :-)",
    "closed_at": "2014-06-04T22:14:16Z",
    "comment_data": [
        {
            "body": "the identity in WhatsAPI is generated like this:\r\n$identity = strtolower(urlencode(sha1($username, false)));\r\nand the identity is using to request a new password,it is a key that save in whatsapp's server.\r\n\r\nbut in device the identity is generated in other way, so i think it's the reason.",
            "created_at": "2014-06-03T12:44:57Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/759#issuecomment-44959330",
            "id": 44959330,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759",
            "updated_at": "2014-06-03T12:44:57Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/44959330",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7278262?v=3",
                "events_url": "https://api.github.com/users/blueslmj/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueslmj/followers",
                "following_url": "https://api.github.com/users/blueslmj/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueslmj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueslmj",
                "id": 7278262,
                "login": "blueslmj",
                "organizations_url": "https://api.github.com/users/blueslmj/orgs",
                "received_events_url": "https://api.github.com/users/blueslmj/received_events",
                "repos_url": "https://api.github.com/users/blueslmj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueslmj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueslmj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueslmj"
            }
        },
        {
            "body": "@blueslmj little deeper than that, but already know how it works :) Thank you anyway :+1: ",
            "created_at": "2014-06-04T22:14:16Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/759#issuecomment-45158940",
            "id": 45158940,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759",
            "updated_at": "2014-06-04T22:14:16Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/45158940",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
                "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
                "followers_url": "https://api.github.com/users/mgp25/followers",
                "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
                "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mgp25",
                "id": 5390120,
                "login": "mgp25",
                "organizations_url": "https://api.github.com/users/mgp25/orgs",
                "received_events_url": "https://api.github.com/users/mgp25/received_events",
                "repos_url": "https://api.github.com/users/mgp25/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mgp25"
            }
        },
        {
            "body": "Hello, y'all...Nice work!\r\n\r\nI been having problems registering new Whatsapp numbers. My whatsapp keeps saying 'An sms was not sent' and then 'You were not called, try again'\r\n\r\nAnother thing (I don't know if that's the reason) is that the number I am trying to register is a virtual USA Google Voice number. Any help will be welcomed. dperez0109@gmaiil.com",
            "created_at": "2014-06-23T21:25:48Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/759#issuecomment-46904337",
            "id": 46904337,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759",
            "updated_at": "2014-06-23T21:25:48Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/46904337",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7969113?v=3",
                "events_url": "https://api.github.com/users/dp3rez/events{/privacy}",
                "followers_url": "https://api.github.com/users/dp3rez/followers",
                "following_url": "https://api.github.com/users/dp3rez/following{/other_user}",
                "gists_url": "https://api.github.com/users/dp3rez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dp3rez",
                "id": 7969113,
                "login": "dp3rez",
                "organizations_url": "https://api.github.com/users/dp3rez/orgs",
                "received_events_url": "https://api.github.com/users/dp3rez/received_events",
                "repos_url": "https://api.github.com/users/dp3rez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dp3rez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dp3rez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dp3rez"
            }
        },
        {
            "body": "@dp3rez dont repeat the messages, we read them, i answered you in the other issue.",
            "created_at": "2014-06-23T21:31:30Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/759#issuecomment-46904947",
            "id": 46904947,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759",
            "updated_at": "2014-06-23T21:31:30Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/46904947",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
                "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
                "followers_url": "https://api.github.com/users/mgp25/followers",
                "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
                "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mgp25",
                "id": 5390120,
                "login": "mgp25",
                "organizations_url": "https://api.github.com/users/mgp25/orgs",
                "received_events_url": "https://api.github.com/users/mgp25/received_events",
                "repos_url": "https://api.github.com/users/mgp25/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mgp25"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759/comments",
    "created_at": "2014-06-03T12:32:29Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
                "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
                "followers_url": "https://api.github.com/users/mgp25/followers",
                "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
                "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mgp25",
                "id": 5390120,
                "login": "mgp25",
                "organizations_url": "https://api.github.com/users/mgp25/orgs",
                "received_events_url": "https://api.github.com/users/mgp25/received_events",
                "repos_url": "https://api.github.com/users/mgp25/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mgp25"
            },
            "commit_id": null,
            "created_at": "2014-06-03T12:34:57Z",
            "event": "renamed",
            "id": 127443849,
            "rename": {
                "from": "[Concept] How WhatsApp do verification?",
                "to": "[Concept] How WhatsApp verification works? It records something from us?"
            },
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/127443849"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2014-06-04T15:55:53Z",
            "event": "mentioned",
            "id": 127985244,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/127985244"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2014-06-04T15:55:53Z",
            "event": "subscribed",
            "id": 127985245,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/127985245"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7278262?v=3",
                "events_url": "https://api.github.com/users/blueslmj/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueslmj/followers",
                "following_url": "https://api.github.com/users/blueslmj/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueslmj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueslmj",
                "id": 7278262,
                "login": "blueslmj",
                "organizations_url": "https://api.github.com/users/blueslmj/orgs",
                "received_events_url": "https://api.github.com/users/blueslmj/received_events",
                "repos_url": "https://api.github.com/users/blueslmj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueslmj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueslmj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueslmj"
            },
            "commit_id": null,
            "created_at": "2014-06-04T22:14:16Z",
            "event": "mentioned",
            "id": 128154320,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/128154320"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7278262?v=3",
                "events_url": "https://api.github.com/users/blueslmj/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueslmj/followers",
                "following_url": "https://api.github.com/users/blueslmj/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueslmj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueslmj",
                "id": 7278262,
                "login": "blueslmj",
                "organizations_url": "https://api.github.com/users/blueslmj/orgs",
                "received_events_url": "https://api.github.com/users/blueslmj/received_events",
                "repos_url": "https://api.github.com/users/blueslmj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueslmj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueslmj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueslmj"
            },
            "commit_id": null,
            "created_at": "2014-06-04T22:14:16Z",
            "event": "subscribed",
            "id": 128154321,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/128154321"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
                "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
                "followers_url": "https://api.github.com/users/mgp25/followers",
                "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
                "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mgp25",
                "id": 5390120,
                "login": "mgp25",
                "organizations_url": "https://api.github.com/users/mgp25/orgs",
                "received_events_url": "https://api.github.com/users/mgp25/received_events",
                "repos_url": "https://api.github.com/users/mgp25/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mgp25"
            },
            "commit_id": null,
            "created_at": "2014-06-04T22:14:16Z",
            "event": "closed",
            "id": 128154325,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/128154325"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7969113?v=3",
                "events_url": "https://api.github.com/users/dp3rez/events{/privacy}",
                "followers_url": "https://api.github.com/users/dp3rez/followers",
                "following_url": "https://api.github.com/users/dp3rez/following{/other_user}",
                "gists_url": "https://api.github.com/users/dp3rez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dp3rez",
                "id": 7969113,
                "login": "dp3rez",
                "organizations_url": "https://api.github.com/users/dp3rez/orgs",
                "received_events_url": "https://api.github.com/users/dp3rez/received_events",
                "repos_url": "https://api.github.com/users/dp3rez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dp3rez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dp3rez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dp3rez"
            },
            "commit_id": null,
            "created_at": "2014-06-23T21:31:30Z",
            "event": "mentioned",
            "id": 134306263,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/134306263"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7969113?v=3",
                "events_url": "https://api.github.com/users/dp3rez/events{/privacy}",
                "followers_url": "https://api.github.com/users/dp3rez/followers",
                "following_url": "https://api.github.com/users/dp3rez/following{/other_user}",
                "gists_url": "https://api.github.com/users/dp3rez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dp3rez",
                "id": 7969113,
                "login": "dp3rez",
                "organizations_url": "https://api.github.com/users/dp3rez/orgs",
                "received_events_url": "https://api.github.com/users/dp3rez/received_events",
                "repos_url": "https://api.github.com/users/dp3rez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dp3rez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dp3rez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dp3rez"
            },
            "commit_id": null,
            "created_at": "2014-06-23T21:31:30Z",
            "event": "subscribed",
            "id": 134306264,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/134306264"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/759",
    "id": 34858692,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 759,
    "state": "closed",
    "title": "[Concept] How WhatsApp verification works? It records something from us?",
    "updated_at": "2014-06-23T21:31:30Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/759",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
        "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
        "followers_url": "https://api.github.com/users/mgp25/followers",
        "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
        "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/mgp25",
        "id": 5390120,
        "login": "mgp25",
        "organizations_url": "https://api.github.com/users/mgp25/orgs",
        "received_events_url": "https://api.github.com/users/mgp25/received_events",
        "repos_url": "https://api.github.com/users/mgp25/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/mgp25"
    }
}