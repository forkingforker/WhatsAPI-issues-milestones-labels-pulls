{
    "assignee": null,
    "body": "So as you may have read in my commit https://github.com/venomous0x/WhatsAPI/commit/6954eb3fc95c96411db45dc0fccc9e16c6aae7b9 I've added the SendSetRecoveryToken method.\r\n\r\nThis allows you to manually set a custom password recovery token for an existing account in case you don't have it, can't get it (I don't have the SIM card of one of my dev numbers anymore) or just want to change it.\r\n\r\nThis enables you to:\r\n- request a new password with checkCredentials using your own custom recovery token\r\n- log in using that cursed Login() method using your own custom recovery token\r\n\r\n## Note: ##\r\nWhen you use this method WhatsApp will try to give you a new password through a protocol node. There is no handler implemented yet to respond to this though, so the new password will not be accepted and it won't replace the old password.\r\n\r\n\r\n\r\n\r\nDamn I'm tired right now.. :c",
    "closed_at": null,
    "comment_data": [
        {
            "body": "\r\n\r\nIt works perfectly\r\n\r\nI Use\r\n\r\n$ userPhone = 'xxxxxxxxxxx';\r\n$ UserIdentity = 'xxxxxxxxxxxxxxx';\r\n$ userName = 'John Doe';\r\n$ destinationPhone = 'xxxxxxxxxxxx';\r\n$ password = 'xxxxxxxxxxxxxxxxxxxxxxxxx';\r\n$ debug = TRUE;\r\n$ w = new WhatsProt ($userPhone, $UserIdentity, $userName, $debug);\r\n$ w->Connect ();\r\n$accountInfo = (array) $w->checkCredentials();\r\n\r\nAnd get the new data\r\n\r\nprint_r ($accountInfo);\r\n\r\nThen start session with the new password and it works perfectly\r\n\r\n$newpassword = $accountinfo['pw'];\r\n$w->LoginWithPassword($newpassword);\r\n\r\nThank you very much. Great contribution.\r\n",
            "created_at": "2013-06-21T16:39:23Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/380#issuecomment-19826705",
            "id": 19826705,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/380",
            "updated_at": "2013-06-21T16:39:23Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19826705",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2752593?v=3",
                "events_url": "https://api.github.com/users/manufuentescr/events{/privacy}",
                "followers_url": "https://api.github.com/users/manufuentescr/followers",
                "following_url": "https://api.github.com/users/manufuentescr/following{/other_user}",
                "gists_url": "https://api.github.com/users/manufuentescr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/manufuentescr",
                "id": 2752593,
                "login": "manufuentescr",
                "organizations_url": "https://api.github.com/users/manufuentescr/orgs",
                "received_events_url": "https://api.github.com/users/manufuentescr/received_events",
                "repos_url": "https://api.github.com/users/manufuentescr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/manufuentescr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/manufuentescr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/manufuentescr"
            }
        },
        {
            "body": "hi @shirioko \r\nany update with checkCredentials($token) ? I see latest code dont need any $token on method checkCredentials\r\n\r\nI also checked up there @manufuentescr  said, its just work fine without token.\r\nany idea why would we need $token ? \r\n\r\n(changed the password just fine).\r\n\r\nalso its true on whatsapp realclient, after login we need to checkCredentials to reupdate the password at next login ?\r\n\r\n",
            "created_at": "2013-07-18T00:25:57Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/380#issuecomment-21155251",
            "id": 21155251,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/380",
            "updated_at": "2013-07-18T00:25:57Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/21155251",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/551532?v=3",
                "events_url": "https://api.github.com/users/assegaf/events{/privacy}",
                "followers_url": "https://api.github.com/users/assegaf/followers",
                "following_url": "https://api.github.com/users/assegaf/following{/other_user}",
                "gists_url": "https://api.github.com/users/assegaf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/assegaf",
                "id": 551532,
                "login": "assegaf",
                "organizations_url": "https://api.github.com/users/assegaf/orgs",
                "received_events_url": "https://api.github.com/users/assegaf/received_events",
                "repos_url": "https://api.github.com/users/assegaf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/assegaf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/assegaf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/assegaf"
            }
        },
        {
            "body": "token = device identity set in the constructor. \r\nI've added the optional parameter to checkCredentials because back then we used md5(strrev($imei)) to programmatically create device identity in the constructor. \r\nThe password recovery token on your smartphone could be sniffed using MissVenom, and this parameter allowed you to override the generated identity with the one you captured.\r\n\r\nNo, the password is retrieved only once during registration by using either registerCode or checkCredentials",
            "created_at": "2013-07-18T07:40:10Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/380#issuecomment-21167468",
            "id": 21167468,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/380",
            "updated_at": "2013-07-18T07:40:10Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/21167468",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/380/comments",
    "created_at": "2013-06-21T00:31:36Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": "6954eb3fc95c96411db45dc0fccc9e16c6aae7b9",
            "created_at": "2013-06-21T16:24:43Z",
            "event": "referenced",
            "id": 53627760,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/53627760"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-07-18T00:25:57Z",
            "event": "mentioned",
            "id": 56999510,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/56999510"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-07-18T00:25:57Z",
            "event": "subscribed",
            "id": 56999511,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/56999511"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2752593?v=3",
                "events_url": "https://api.github.com/users/manufuentescr/events{/privacy}",
                "followers_url": "https://api.github.com/users/manufuentescr/followers",
                "following_url": "https://api.github.com/users/manufuentescr/following{/other_user}",
                "gists_url": "https://api.github.com/users/manufuentescr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/manufuentescr",
                "id": 2752593,
                "login": "manufuentescr",
                "organizations_url": "https://api.github.com/users/manufuentescr/orgs",
                "received_events_url": "https://api.github.com/users/manufuentescr/received_events",
                "repos_url": "https://api.github.com/users/manufuentescr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/manufuentescr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/manufuentescr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/manufuentescr"
            },
            "commit_id": null,
            "created_at": "2013-07-18T00:25:57Z",
            "event": "mentioned",
            "id": 56999512,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/56999512"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2752593?v=3",
                "events_url": "https://api.github.com/users/manufuentescr/events{/privacy}",
                "followers_url": "https://api.github.com/users/manufuentescr/followers",
                "following_url": "https://api.github.com/users/manufuentescr/following{/other_user}",
                "gists_url": "https://api.github.com/users/manufuentescr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/manufuentescr",
                "id": 2752593,
                "login": "manufuentescr",
                "organizations_url": "https://api.github.com/users/manufuentescr/orgs",
                "received_events_url": "https://api.github.com/users/manufuentescr/received_events",
                "repos_url": "https://api.github.com/users/manufuentescr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/manufuentescr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/manufuentescr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/manufuentescr"
            },
            "commit_id": null,
            "created_at": "2013-07-18T00:25:57Z",
            "event": "subscribed",
            "id": 56999513,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/56999513"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/380/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/380",
    "id": 15830490,
    "labels": [
        {
            "color": "84b6eb",
            "name": "enhancement",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/labels/enhancement"
        }
    ],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/380/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 380,
    "state": "open",
    "title": "Announcement: SendSetRecoveryToken",
    "updated_at": "2013-07-18T07:40:10Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/380",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
        "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
        "followers_url": "https://api.github.com/users/shirioko/followers",
        "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
        "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/shirioko",
        "id": 1610953,
        "login": "shirioko",
        "organizations_url": "https://api.github.com/users/shirioko/orgs",
        "received_events_url": "https://api.github.com/users/shirioko/received_events",
        "repos_url": "https://api.github.com/users/shirioko/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/shirioko"
    }
}