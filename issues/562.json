{
    "assignee": null,
    "body": "How to get whatsapp tokens and Encryption key?",
    "closed_at": "2014-01-06T09:56:30Z",
    "comment_data": [
        {
            "body": "What for?",
            "created_at": "2013-12-25T13:21:59Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/562#issuecomment-31199124",
            "id": 31199124,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562",
            "updated_at": "2013-12-25T13:21:59Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/31199124",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "i am curious about how whatsapp encryption works and how these passwords get generated ",
            "created_at": "2013-12-25T13:24:22Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/562#issuecomment-31199164",
            "id": 31199164,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562",
            "updated_at": "2013-12-25T13:24:22Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/31199164",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2313436?v=3",
                "events_url": "https://api.github.com/users/brittson/events{/privacy}",
                "followers_url": "https://api.github.com/users/brittson/followers",
                "following_url": "https://api.github.com/users/brittson/following{/other_user}",
                "gists_url": "https://api.github.com/users/brittson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/brittson",
                "id": 2313436,
                "login": "brittson",
                "organizations_url": "https://api.github.com/users/brittson/orgs",
                "received_events_url": "https://api.github.com/users/brittson/received_events",
                "repos_url": "https://api.github.com/users/brittson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/brittson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/brittson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/brittson"
            }
        },
        {
            "body": "By the way Happy Christmas to you @shirioko :)",
            "created_at": "2013-12-25T13:31:36Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/562#issuecomment-31199281",
            "id": 31199281,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562",
            "updated_at": "2013-12-25T13:31:36Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/31199281",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2313436?v=3",
                "events_url": "https://api.github.com/users/brittson/events{/privacy}",
                "followers_url": "https://api.github.com/users/brittson/followers",
                "following_url": "https://api.github.com/users/brittson/following{/other_user}",
                "gists_url": "https://api.github.com/users/brittson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/brittson",
                "id": 2313436,
                "login": "brittson",
                "organizations_url": "https://api.github.com/users/brittson/orgs",
                "received_events_url": "https://api.github.com/users/brittson/received_events",
                "repos_url": "https://api.github.com/users/brittson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/brittson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/brittson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/brittson"
            }
        },
        {
            "body": "WhatsApp uses RC4 keystreams for encrypting and decrypting data:\r\nhttps://github.com/venomous0x/WhatsAPI/blob/master/src/php/rc4.php\r\n\r\nThe RC4 keystream key (20 byte) is generated from your password and challenge data:\r\nhttps://github.com/venomous0x/WhatsAPI/blob/master/src/php/whatsprot.class.php#L1352\r\n\r\nRC4 works with states, so the keystream state (contents of the keystream) changes after every byte you encrypt.\r\nWhen you encrypt a byte, the state is processed, updated, and the encrypted byte is returned. \r\nThe same goes for decrypting. You need two streams on both ends, one for encrypting and one for decrypting.\r\n\r\nDecrypting an encrypted message is as simple as pushing the encrypted bytes into the keystream for decryption, and decrypted bytes will pop out on the other end :)\r\n\r\nBiggest advantage of a state encryption system is that sessions cannot be hijacked, since the state of the keystream cannot be reconstructed without having ALL the sent or received data. Hopping into a session with a wrong keystream or keystream state means that your data cannot be decrypted by the other endpoint.",
            "created_at": "2013-12-25T15:18:06Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/562#issuecomment-31200714",
            "id": 31200714,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562",
            "updated_at": "2014-01-06T10:00:41Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/31200714",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "thanks Max , you are awesome :)\r\n\r\n\r\nOn Wed, Dec 25, 2013 at 8:48 PM, Max Kovaljov <notifications@github.com>wrote:\r\n\r\n> WhatsApp uses RC4 keystreams for encrypting and decrypting data:\r\n> https://github.com/venomous0x/WhatsAPI/blob/master/src/php/rc4.php\r\n>\r\n> The RC4 keystream key (20 byte) is generated from your password and\r\n> challenge data:\r\n>\r\n> https://github.com/venomous0x/WhatsAPI/blob/master/src/php/whatsprot.class.php#L1352\r\n>\r\n> RC4 works with states, so the keystream state (contents of the keystream)\r\n> changes after every byte you encrypt.\r\n> When you encrypt a byte, the state is processed, updated, and the\r\n> encrypten byte is returned.\r\n> The same goes for decrypting. You need two streams on both ends, one for\r\n> encrypting and decrypting.\r\n>\r\n> Decrypting an encrypted message is as simple as pushing the encrpted bytes\r\n> into the keystream for decryption, and decrypted bytes will pop out on the\r\n> other end :)\r\n>\r\n> Biggest advantage of a state encryption system is that sessions cannot be\r\n> hijacked, since the state of the keystream cannot be reconstructed without\r\n> having ALL the sent or received data. Hopping in a session with a wrong\r\n> keystream or keystream state means that your data cannot be decrypted by\r\n> the other endpoint.\r\n>\r\n> â€”\r\n> Reply to this email directly or view it on GitHub<https://github.com/venomous0x/WhatsAPI/issues/562#issuecomment-31200714>\r\n> .\r\n>",
            "created_at": "2013-12-26T16:18:53Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/562#issuecomment-31225945",
            "id": 31225945,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562",
            "updated_at": "2013-12-26T16:18:53Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/31225945",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2313436?v=3",
                "events_url": "https://api.github.com/users/brittson/events{/privacy}",
                "followers_url": "https://api.github.com/users/brittson/followers",
                "following_url": "https://api.github.com/users/brittson/following{/other_user}",
                "gists_url": "https://api.github.com/users/brittson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/brittson",
                "id": 2313436,
                "login": "brittson",
                "organizations_url": "https://api.github.com/users/brittson/orgs",
                "received_events_url": "https://api.github.com/users/brittson/received_events",
                "repos_url": "https://api.github.com/users/brittson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/brittson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/brittson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/brittson"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562/comments",
    "created_at": "2013-12-25T13:02:39Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-12-25T13:31:36Z",
            "event": "mentioned",
            "id": 83306620,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/83306620"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-12-25T13:31:36Z",
            "event": "subscribed",
            "id": 83306621,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/83306621"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2014-01-06T09:56:30Z",
            "event": "closed",
            "id": 84371584,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/84371584"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/562",
    "id": 24768271,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 562,
    "state": "closed",
    "title": "Whatsapp Token",
    "updated_at": "2014-01-06T10:00:41Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/562",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2313436?v=3",
        "events_url": "https://api.github.com/users/brittson/events{/privacy}",
        "followers_url": "https://api.github.com/users/brittson/followers",
        "following_url": "https://api.github.com/users/brittson/following{/other_user}",
        "gists_url": "https://api.github.com/users/brittson/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/brittson",
        "id": 2313436,
        "login": "brittson",
        "organizations_url": "https://api.github.com/users/brittson/orgs",
        "received_events_url": "https://api.github.com/users/brittson/received_events",
        "repos_url": "https://api.github.com/users/brittson/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/brittson/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/brittson/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/brittson"
    }
}