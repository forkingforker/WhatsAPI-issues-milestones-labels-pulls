{
    "assignee": null,
    "body": "Hi \r\n    I have been trying to get the whatsapi working but i am getting the error all the time \"There was a problem trying to request the code\" . here i am putting my full messages that i am getting \r\n\r\n[12-Mar-2013 22:44:59] PHP Notice:  Undefined property: stdClass::$reason in /Applications/MAMP/htdocs/whatsapp/test/whatsprot.class.php on line 1268\r\n[12-Mar-2013 22:44:59] PHP Fatal error:  Uncaught exception 'Exception' with message 'There was a problem trying to request the code.' in /Applications/MAMP/htdocs/whatsapp/test/whatsprot.class.php:1269\r\nStack trace:\r\n#0 /Applications/MAMP/htdocs/whatsapp/test/test.php(36): WhatsProt->checkCredentials()\r\n#1 {main}\r\n  thrown in /Applications/MAMP/htdocs/whatsapp/test/whatsprot.class.php on line 1269\r\n\r\n\r\ni know i am putting the correct info \r\n$userPhone = '8801770648732';\r\n$userIdentity = '352264050503669';\r\n$userName = 'shishir';\r\n$debug = TRUE;\r\n$whatsapp = new WhatsProt($userPhone, $userIdentity, $userName, $debug);\r\n$request_code = $whatsapp->requestCode(\"sms\", \"BD\", \"en\");\r\n\r\ni am using the android device and put the IMEI number as the $userIdentity but it always stuck at the request code . \r\n\r\nany help or direction or is it not working anymore .",
    "closed_at": null,
    "comment_data": [
        {
            "body": "same here",
            "created_at": "2013-04-24T06:00:59Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/303#issuecomment-16909445",
            "id": 16909445,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/303",
            "updated_at": "2013-04-24T06:00:59Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16909445",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/196382?v=3",
                "events_url": "https://api.github.com/users/ardianys/events{/privacy}",
                "followers_url": "https://api.github.com/users/ardianys/followers",
                "following_url": "https://api.github.com/users/ardianys/following{/other_user}",
                "gists_url": "https://api.github.com/users/ardianys/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ardianys",
                "id": 196382,
                "login": "ardianys",
                "organizations_url": "https://api.github.com/users/ardianys/orgs",
                "received_events_url": "https://api.github.com/users/ardianys/received_events",
                "repos_url": "https://api.github.com/users/ardianys/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ardianys/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ardianys/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ardianys"
            }
        },
        {
            "body": "Try\r\n\r\n    $userIdentity = md5('352264050503669');\r\ninstead. WhatsApp uses a filter to check for MD5 hash, so sending just an IMEI code won't work.\r\n\r\nAnd the exception is just generic. You need to do some debug prints (whatsprot.class.php line 1157):\r\n\r\n    $query = array(\r\n            'cc' => $phone['cc'],\r\n            'in' => $phone['phone'],\r\n            'lc' => $countryCode,\r\n            'lg' => $langCode,\r\n            'mcc' => '000',\r\n            'mnc' => '000',\r\n            'method' => $method,\r\n            'id' => $this->_identity,\r\n            'token' => $token,\r\n            'c' => 'cookie',\r\n        );\r\n\r\n    $response = $this->getResponse($host, $query);\r\n    print_r($query);\r\n    print_r($response);",
            "created_at": "2013-04-24T07:41:10Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/303#issuecomment-16912198",
            "id": 16912198,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/303",
            "updated_at": "2013-04-24T08:45:29Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/16912198",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/303/comments",
    "created_at": "2013-03-12T16:54:36Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/303/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/303",
    "id": 11933725,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/303/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 303,
    "state": "open",
    "title": "request code problem ",
    "updated_at": "2013-04-24T08:45:29Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/303",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2587979?v=3",
        "events_url": "https://api.github.com/users/abircse06/events{/privacy}",
        "followers_url": "https://api.github.com/users/abircse06/followers",
        "following_url": "https://api.github.com/users/abircse06/following{/other_user}",
        "gists_url": "https://api.github.com/users/abircse06/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/abircse06",
        "id": 2587979,
        "login": "abircse06",
        "organizations_url": "https://api.github.com/users/abircse06/orgs",
        "received_events_url": "https://api.github.com/users/abircse06/received_events",
        "repos_url": "https://api.github.com/users/abircse06/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/abircse06/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abircse06/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/abircse06"
    }
}