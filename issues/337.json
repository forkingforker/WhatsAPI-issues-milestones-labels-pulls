{
    "assignee": null,
    "body": "I have try to request code many time but still get fail or sent as the following below ,is there any one face this problem in PHP API:\r\n[status] => fail [reason] => too_recent [retry_after] => 24936 ",
    "closed_at": "2013-06-20T15:51:54Z",
    "comment_data": [
        {
            "body": "Gee I wonder what that could possibly mean??\r\n\r\n\r\ntoo_recent => you've already requested a code\r\nretry_after => timeout in seconds, you can retry after that\r\n\r\nI've implemented this in my latest commit https://github.com/shirioko/WhatsAPI/commit/a82446813297e321720662f1efe23abc6acda7bc",
            "created_at": "2013-05-05T09:26:43Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17449154",
            "id": 17449154,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T09:26:43Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17449154",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "the problem is that the whole thing of sending a registration code not working, it gives status => sent but i do not receive SMS messages, the issue here: https://github.com/venomous0x/WhatsAPI/issues/335 is still open and still no body could find what is the reason or how to solve the problem.",
            "created_at": "2013-05-05T12:34:57Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17451098",
            "id": 17451098,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T12:34:57Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17451098",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1199045?v=3",
                "events_url": "https://api.github.com/users/unpresedented/events{/privacy}",
                "followers_url": "https://api.github.com/users/unpresedented/followers",
                "following_url": "https://api.github.com/users/unpresedented/following{/other_user}",
                "gists_url": "https://api.github.com/users/unpresedented/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/unpresedented",
                "id": 1199045,
                "login": "unpresedented",
                "organizations_url": "https://api.github.com/users/unpresedented/orgs",
                "received_events_url": "https://api.github.com/users/unpresedented/received_events",
                "repos_url": "https://api.github.com/users/unpresedented/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/unpresedented/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/unpresedented/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/unpresedented"
            }
        },
        {
            "body": "Reason? Probably WhatsApp updating or ending S40 support.\r\n\r\n    // User agent and token used in reques/registration code.\r\n    const _whatsAppUserAgent = 'WhatsApp/2.3.53 S40Version/14.26 Device/Nokia302';\r\n    const _whatsAppToken = 'PdA2DJyKoUrwLw1Bg6EIhzh502dF9noR9uFCllGk1354754753509';\r\nUsing old WP7 user agent will result give the \"old_version\" error and using the old token will give an invalid token hash.\r\n\r\nWe need someone with an S40 who can confirm that the registration is still working on the official client and if possible also sniff the code request. I've updated MissVenom to include user agent in the output so we can verify that as well.",
            "created_at": "2013-05-05T13:05:00Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17451454",
            "id": 17451454,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T13:06:11Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17451454",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "I have get a work around for this problem , if you want to solve it please follow the below steps:-\r\n1- Download WhatsApp for new Mobile number in your iPhone or any smart device.\r\n2- Request code from your mobile number may be it will get you message  that SMS message will take 20 hour ,therefore you can use Voice call and may be it will take 5 minutes.\r\n3. After you get this registration code , you should set this value in your code for RegistrationCode method without need to call for RequestCode and print the response which include the password .\r\n4.Now you can send messages through this API",
            "created_at": "2013-05-05T14:51:05Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17452815",
            "id": 17452815,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T14:51:05Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17452815",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/862330?v=3",
                "events_url": "https://api.github.com/users/ahmadabudawod/events{/privacy}",
                "followers_url": "https://api.github.com/users/ahmadabudawod/followers",
                "following_url": "https://api.github.com/users/ahmadabudawod/following{/other_user}",
                "gists_url": "https://api.github.com/users/ahmadabudawod/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ahmadabudawod",
                "id": 862330,
                "login": "ahmadabudawod",
                "organizations_url": "https://api.github.com/users/ahmadabudawod/orgs",
                "received_events_url": "https://api.github.com/users/ahmadabudawod/received_events",
                "repos_url": "https://api.github.com/users/ahmadabudawod/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ahmadabudawod/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ahmadabudawod/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ahmadabudawod"
            }
        },
        {
            "body": "Does this actually work? Because you would expect that requestCode and registerCode need the same identity to work at all.",
            "created_at": "2013-05-05T15:31:51Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17453398",
            "id": 17453398,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T15:31:51Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17453398",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "confirmed, the four steps above worked with the same identity ... ",
            "created_at": "2013-05-05T20:35:56Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17458655",
            "id": 17458655,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T20:35:56Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17458655",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1199045?v=3",
                "events_url": "https://api.github.com/users/unpresedented/events{/privacy}",
                "followers_url": "https://api.github.com/users/unpresedented/followers",
                "following_url": "https://api.github.com/users/unpresedented/following{/other_user}",
                "gists_url": "https://api.github.com/users/unpresedented/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/unpresedented",
                "id": 1199045,
                "login": "unpresedented",
                "organizations_url": "https://api.github.com/users/unpresedented/orgs",
                "received_events_url": "https://api.github.com/users/unpresedented/received_events",
                "repos_url": "https://api.github.com/users/unpresedented/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/unpresedented/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/unpresedented/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/unpresedented"
            }
        },
        {
            "body": "So this means that WhatsApp still uses \r\n\r\n    md5(strrev($imei))\r\nfor it's identity?",
            "created_at": "2013-05-05T20:37:39Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17458686",
            "id": 17458686,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T20:37:49Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17458686",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "do not know what's that 'coz I didn't dig into the code ...",
            "created_at": "2013-05-05T21:31:49Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17459662",
            "id": 17459662,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T21:31:49Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17459662",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1199045?v=3",
                "events_url": "https://api.github.com/users/unpresedented/events{/privacy}",
                "followers_url": "https://api.github.com/users/unpresedented/followers",
                "following_url": "https://api.github.com/users/unpresedented/following{/other_user}",
                "gists_url": "https://api.github.com/users/unpresedented/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/unpresedented",
                "id": 1199045,
                "login": "unpresedented",
                "organizations_url": "https://api.github.com/users/unpresedented/orgs",
                "received_events_url": "https://api.github.com/users/unpresedented/received_events",
                "repos_url": "https://api.github.com/users/unpresedented/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/unpresedented/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/unpresedented/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/unpresedented"
            }
        },
        {
            "body": "Well I'll be damned, it works! Identity is ignored, so it works as long as the phone number and SMS code are correct.\r\n\r\nThat's some pretty shitty security, something WhatsApp is well-known for :')",
            "created_at": "2013-05-05T21:57:11Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17460064",
            "id": 17460064,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-05T21:57:11Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17460064",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "lol, so let's say we have 1 old smartphone and 30 simcards.. \r\nyou'll say its just a thing of replace SIMcard, get activation code, add activationcode to php class... \r\nreplace simcard, etc.. \r\n\r\ndoes this really work? on the same IMEI?\r\nSo this would mean IMEI isn't used until you'll register it with the received activationcode?\r\nSo we still can 'make' IMEI's ourself in the phpclass.",
            "created_at": "2013-05-06T08:40:07Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17471481",
            "id": 17471481,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-06T08:43:19Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17471481",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/333021?v=3",
                "events_url": "https://api.github.com/users/ramonv/events{/privacy}",
                "followers_url": "https://api.github.com/users/ramonv/followers",
                "following_url": "https://api.github.com/users/ramonv/following{/other_user}",
                "gists_url": "https://api.github.com/users/ramonv/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ramonv",
                "id": 333021,
                "login": "ramonv",
                "organizations_url": "https://api.github.com/users/ramonv/orgs",
                "received_events_url": "https://api.github.com/users/ramonv/received_events",
                "repos_url": "https://api.github.com/users/ramonv/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ramonv/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ramonv/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ramonv"
            }
        },
        {
            "body": "This would work anyway because the new generated identity uses both your phonenumber and imei code, so a different number on the same phone would generate a different identity.\r\n\r\nold situation:\r\n\r\n    $identity = md5(strrev($imei));\r\nnew situation:\r\n\r\n    $identity = urlencode(md5($phonenumber . $imei, true));//something like this, we still have no clue how this actually works...\r\n\r\nSee here: https://github.com/venomous0x/WhatsAPI/issues/283#issuecomment-16415346",
            "created_at": "2013-05-06T08:49:52Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17471811",
            "id": 17471811,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-06T08:49:52Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17471811",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "yes, exactly, you can use 30 sim card credentials with 1 phone ... \r\nI'm now using What's Api with my number which i'm currently using with what's app on my iPhone which I'm using its wifi address as the identity on what's api :D",
            "created_at": "2013-05-06T17:14:12Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-17494631",
            "id": 17494631,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-06T17:14:12Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/17494631",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1199045?v=3",
                "events_url": "https://api.github.com/users/unpresedented/events{/privacy}",
                "followers_url": "https://api.github.com/users/unpresedented/followers",
                "following_url": "https://api.github.com/users/unpresedented/following{/other_user}",
                "gists_url": "https://api.github.com/users/unpresedented/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/unpresedented",
                "id": 1199045,
                "login": "unpresedented",
                "organizations_url": "https://api.github.com/users/unpresedented/orgs",
                "received_events_url": "https://api.github.com/users/unpresedented/received_events",
                "repos_url": "https://api.github.com/users/unpresedented/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/unpresedented/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/unpresedented/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/unpresedented"
            }
        },
        {
            "body": "I don't have any smartphone but would like to have a look at the most recent WP7 WhatsApp DLLs.\r\nCould you reupload them please? - Including the native one?",
            "created_at": "2013-05-31T10:29:33Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18737415",
            "id": 18737415,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-31T10:29:33Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18737415",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "http://mywapi.nl/whatsapi/share/\r\nThe token is in the native DLL which is compiled for ARMv7, so unless you have a WP7 device or your CPU supports virtualization you won't have much use for it.",
            "created_at": "2013-05-31T10:34:49Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18737630",
            "id": 18737630,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-05-31T10:40:59Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18737630",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "I haven't worked with WP7 native DLLs yet. I'm new to Dis# because I can't remember what I used back in 2011 to disassemble the WP client.\r\nHowever, it's confusing because the IMisc interface from the native DLL does not seem to match the function order from the .NET dll.\r\n\r\nStarting at .data:0007A284 are seven function pointers (followed by the GUID for IMisc: \"53a4a6b2-424d-4198-887b-9e8d68fca9c2\"). I believe them to be this:\r\n\r\n6.      sub_15AB0      \r\n0.      sub_15158        \r\n5.      sub_155D0\r\n4.      sub_1531C\r\n2.      000151D4 IMisc_GetString_\r\n3.      sub_15268\r\n1.      000151C4 IMisc_Exit_\r\n\r\nThe first row is rank, sorted by actual function address. Shown order is order in function pointer table.\r\n\r\n\r\nDisassembled using Dis#:\r\n\r\n    [Guid(\"53a4a6b2-424d-4198-887b-9e8d68fca9c2\")]\r\n    [ComVisible(true)]\r\n    public interface IMisc {\r\n        string DumpLog();\r\n        void Exit(uint code);\r\n        CELL_INFO GetCellInfo();\r\n        uint GetHr([MarshalAs(UnmanagedType.Interface)] object hackObj);\r\n        void GetPowerStatus([MarshalAs(UnmanagedType.Struct)] ref CEPowerStatus out, bool bypassCache);\r\n        string GetString(int idx);\r\n        IByteBuffer GetToken(IByteBuffer prefix, IByteBuffer fuzz);\r\n    }\r\n\r\n\r\nAs you can see, Exit and GetString are not at the expected positions in the interface (not by address, not by order, not by type - I can't find any system. It seems as if Dis# just sorts the interface alphabeticly [which would be wrong..])\r\nHowever, I should at least have Exit identified correctly because all the native DLL does is a call to TerminateProcess(0x42, code).\r\n\r\nGetString at 000151D4 is also likely because it accepts values from 0 to 4 as argument and returns a copy from a string-pointer-table string (which, however, seems to contain garbage, *(0x7B59C + idx * 4) would be the actual string pointer I believe).\r\n\r\nsub_1505C is a warning / error print function which passes the string to sub_14F30 which allocates buffers, does printf and then calls OutputDebugStringW.\r\n\r\nIf it was easier to figure out which function is actually GetToken this would be a lot easier.\r\n\r\nIdeas / Thoughts? Who else had a look at the DLLs yet?\r\nI need this so I can actually create a new account..\r\n\r\n\r\n//Edit: Did not know that IDA had support for .NET.\r\nI matched the functions now:\r\n\r\nGetPowerStatus = 15AB0  \r\nGetHr = 15158\r\nGetToken = 155D0\r\nGetCellInfo = 1531C\r\nGetString = 151D4\r\nDumpLog = 15268\r\nExit = 000151C4 \r\n\r\nThis order (which IDA suggests) would confirm my findings for Exit and GetString. So I will continue work on 155D0.\r\n\r\nTo me, it appears that the new token is just a simple hash (using the windows crypto functions) of the phone number.",
            "created_at": "2013-05-31T23:24:36Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18778264",
            "id": 18778264,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T00:45:20Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18778264",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "Uhh it's kind of late now, I'll try to comprehend this big lump of information in the morning...\r\nIt's awesome to see someone who knows what they're doing!\r\n\r\nI've tried building a WP7 app which calls the DLLs as-is, so you wouldn't need to decompile/reverse-engineer them. I have a spare WP7 device lying around so I could use it as an interface to generate tokens from my desktop. Can't remember why I stopped working on it though...\r\n\r\nIf you need to register a number you can always request the code through an official client and use that code to register on WhatsApi, the identity is not matched, only number and sms code :)",
            "created_at": "2013-06-01T01:03:28Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18780978",
            "id": 18780978,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T01:03:28Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18780978",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Unfortunaly I don't have any WhatsApp device. I used android-x86 back in November of 2011 when I completed my first WhatsApp hack/client [Back then you were able to send broadcast to the server and only v1 existed, so most of this security is new to me]. In December 2011 / January 2012 WhatsApp then stopped working on android-x86.\r\n\r\n\r\nIt appears (to me) the following happens:\r\n\r\nWhatsapp.verify.Registration.RequestCode will combine \"GetBuildHash + number\" (without cc). Then it passes that into GetToken.\r\nGetToken seems to be a rather thin wrapper around MD5 using PROV_RSA_FULL with CryptAcquireContext function. So far I was able to isolate most crypto imports and now I try to figure out what it actually hashes.\r\nOnce the token is returned from the native part the .NET part will turn it into a lowercase hexstring - so everything normal.\r\n\r\nIt would be great if anyone could provide me with the BuildHash for the DLL shirioko posted. Also the User-Agent string for a current WP7 WhatsApp would be great. At the moment I use one which I made up: \"WhatsApp/2.9.4 WP7/7.10.8773.98 Device/NOKIA-Lumia_800-H112.1402.2.3\"",
            "created_at": "2013-06-01T15:16:36Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18790950",
            "id": 18790950,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T15:16:36Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18790950",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "@shirioko should be able to give you the UserAgent String. I tried his Miss Venom earlier and saw my own iphone one in the logs.\r\n\r\nFor info, the iphone is: USERAGENT:WhatsApp/2.8.7 iPhone_OS/6.1.3 Device/iPhone_4S",
            "created_at": "2013-06-01T15:31:38Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18791163",
            "id": 18791163,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T15:31:38Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18791163",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "Here you go:\r\nWhatsApp/2.9.4 WP7/7.10.8858 Device/HTC-HTC-H0002",
            "created_at": "2013-06-01T15:45:41Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18791403",
            "id": 18791403,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T15:45:41Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18791403",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Thanks :)\r\n\r\n0x1332C seems to be were all the magic happens.\r\nI was wrong before. This functions seems to return function pointers only. So it should work like this:\r\ngetPointers(&pArrayFunc1,&pArrayFunc2); wip..\r\n\r\nBefore that GetToken creates the crypto context, afterwards it already passes the data to be hashed to the crypto functions. Then checks the hashlength, allocates memory for the hashvalue, then requests the hashvalue, *probably* just converts it back to a string, then frees the memory for the hashvalue and returns it.\r\n\r\n(I still need the BuildHash - even if I can generate it myself I would need someone who can confirm it)",
            "created_at": "2013-06-01T15:51:21Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18791497",
            "id": 18791497,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T16:10:09Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18791497",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "First check if generated identity is registered in WhatsApp:\r\nUSERAGENT:WhatsApp/2.9.4 WP7/7.10.8858 Device/HTC-HTC-H0002\r\nREQUEST:  https://v.whatsapp.net/v2/exist?cc=31&in=650568134&id=%b3%c5VT%c5%d8%89%e9~%e5X%911WW%9f%7c%b2I%d5&lc=NL&lg=nl\r\nRESPONSE: {\"status\":\"fail\",\"reason\":\"incorrect\",\"sms_length\":6,\"voice_length\":6}\r\n\r\n Second request to send an SMS code:\r\nUSERAGENT:WhatsApp/2.9.4 WP7/7.10.8858 Device/HTC-HTC-H0002\r\nREQUEST:  https://v.whatsapp.net/v2/code?cc=31&in=650568134&to=31650568134&lg=nl&lc=NL&method=sms&mcc=204&mnc=004&token=5f795c7dbe10348b42d4be823fd16583&id=%b3%c5VT%c5%d8%89%e9~%e5X%911WW%9f%7c%b2I%d5\r\nRESPONSE: {\"status\":\"sent\",\"length\":6,\"method\":\"sms\",\"retry_after\":1805}\r\n\r\n Third request to verify SMS code (the number is fake so I had to enter something)\r\nUSERAGENT:WhatsApp/2.9.4 WP7/7.10.8858 Device/HTC-HTC-H0002\r\nREQUEST:  https://v.whatsapp.net/v2/register?cc=31&in=650568134&id=%b3%c5VT%c5%d8%89%e9~%e5X%911WW%9f%7c%b2I%d5&code=123456&lc=NL&lg=nl\r\nRESPONSE: {\"status\":\"fail\",\"reason\":\"mismatch\",\"retry_after\":2}",
            "created_at": "2013-06-01T16:08:27Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18791761",
            "id": 18791761,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T16:08:27Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18791761",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Thanks, but that doesn't really help - the token is just an MD5 and can't be reversed. I need the BuildHash of the DLL which is some kind of checksum over the PE sections.\r\n\r\nI just extracted the BuildHash function and spend some time looking into Mono. I came up with this:\r\n\r\nExpected BuildHash for WhatsApp.dll (2.9.4.0): 21a31a2d9dbdc9a8ce324ef2df918064fd26e30a\r\nExpected BuildHash for WhatsAppCommon.dll (2.9.4.0): b32a995213f1dd6006e15818c672b715d5d24828\r\n\r\nYou can find my code to generate these here: http://pastebin.com/hk5F8xsp\r\n\r\nIt's mostly straight from the decompiler. But it had some problems so it might be flawed. Also it's not clean - just gets the job done..\r\nWhich file was the source for the BuildHash in the past?",
            "created_at": "2013-06-01T17:37:53Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18793417",
            "id": 18793417,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T17:37:53Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18793417",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "I've added the whole WP7 WhatsApp rar archive to my website, you can take a look at that if it's any help :)\r\nhttp://mywapi.nl/whatsapi/share/whatsappwp7.rar",
            "created_at": "2013-06-01T18:03:08Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18793934",
            "id": 18793934,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T18:03:47Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18793934",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "byte[] unk = {\r\n      0xBF,0xAB,0x64,0x89,0x7C,0xF6,0xD9,0x12,0xEC,0xED,\r\n      0xFE,0x72,0x58,9,0xD0,0xF9,0xEE,0x20,0xB1,0x4A,\r\n      0x39,0x51,0x98,0xC9,0x7F,0x14,0x1B,0xDC,0,0x6D,\r\n      0xB,0xD1,0x66,0x5D,0x53,0xEB,0xC6,0x86,0x4B,0xA3\r\n};  // .WAobs:00085B48\r\n\r\nI believe this has to do with the token generation.\r\n\r\nHere is my understanding of the GetToken function so far:\r\n\r\n1. .text:00015640 Aquire a Crypto Context with PROV_RSA_FULL\r\n2. .text:00015688 CryptCreateHash(provider,CALG_MD5, ...);\r\n3. .text:000159E4 R1 = Pointer to the array I posted above, R2 = 0x28 (40, probably length of array in bytes, note that the old token prefixes were also 40 bytes [but ASCII / Base64]!)\r\n4. .text:00015770 CryptHashData the array above\r\n5. .text:000157F0 CryptHashData what I assume to be BuildHash + number\r\n* Token must be complete by now!\r\n6. .text:00015A30 CryptGetHashParam(hHash, HP_HASHSIZE, ...);\r\n7. .text:00015844 Allocate necessary memory for the hash\r\n8. .text:00015890 CryptGetHashParam(hHash, HP_HASHVAL, ...);\r\n* Now probably just moves back the data to the .NET arrays\r\n9. .text:000159B0 releaseCryptoContext and free of hash\r\n\r\n\r\n//Edit: My code still does not work though.. Won't do anything unless someone confirms (or atleast tells me I'm wrong) my BuildHash. - I need to know which BuildHash is used in RequestCode.\r\n",
            "created_at": "2013-06-01T19:04:51Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18795068",
            "id": 18795068,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-01T19:39:59Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18795068",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "I checked the disassembled code about a hundred times now.\r\nI'm very sure that what I previously posted is correct. The token above is the new token.\r\n\r\nBut it still doesn't work for me. So I guess either IDA is screwing up, my http request is bad or the BuildHash is not correct..\r\n[Or WhatsAppNative.dll is buggy because encoding differences in the DLLs - but that is highly unlikely]\r\n\r\n//Edit: Maybe .WAobs is encrypted?! .text:00013970 is called from DllEntryPoint and references the first and last byte from .WAobs =Looks like we are doomed! If you want to figure out the token I'd recommend loading the DLL yourself, then reading it's memory at .WAobs:00085B48 which hopefully is a base64 string at that point.",
            "created_at": "2013-06-02T05:44:55Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18802604",
            "id": 18802604,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-02T06:16:43Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18802604",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "I can provide you with the 2.8.2 DLLs if that's any help?\r\nThe hashes for that are in yowsup's source:\r\nhttps://github.com/tgalal/yowsup/blob/master/src/Yowsup/Common/Http/warequest.py#L38\r\n```python\r\n(\"WhatsApp/2.8.2 WP7/7.10.8773.98 Device/NOKIA-Lumia_800-H112.1402.2.3\", \r\n\t\t\t\t\"k7Iy3bWARdNeSL8gYgY6WveX12A1g4uTNXrRzt1H\"+\"889d4f44e479e6c38b4a834c6d8417815f999abe{phone}\"),\r\n```",
            "created_at": "2013-06-02T20:56:42Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18813688",
            "id": 18813688,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-02T20:56:42Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18813688",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Yes, that would be helpful as I can verify my BuildHash code probably :)\r\n\r\nBut by now I'm pretty sure that .WAobs and maybe some other sections are encrypted or scrambled. They are read+write which is unlikely and even pointers which probably should be strings seem to end up in random data. Also the entire section is full of data with almost no 0xFF or 0x00 bytes.\r\n\r\nIf you have a windows phone you can test this easily though by loading the DLL and reading back its contents in memory.",
            "created_at": "2013-06-02T21:12:06Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18813952",
            "id": 18813952,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-02T21:12:06Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18813952",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "It's up!\r\nhttp://mywapi.nl/whatsapi/share/wapp_wp7_282.rar\r\n\r\nRegarding loading the DLL into memory and reading back it's contents, can you PM me on how to do this? :)\r\n\r\nEDIT\r\nOh damn it I just realized 2.8.2 doesn't have a native DLL :/ Bummer",
            "created_at": "2013-06-02T21:18:38Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18814086",
            "id": 18814086,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-02T21:21:03Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18814086",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Thanks for helping!\r\n\r\nI don't have .NET 4.0 in my VM, so no ilspy. Dis# fails to disassemble either WhatsApp.dll (WhatsAppCommon.dll works fine) so I can't have a look at the decompiled 2.8.2.0 BuildHash.Create() as it was still in WhatsApp.dll at that point (it's in WhatsAppCommond.dll now [2.9.4.0]).\r\n\r\nI only checked the disassembly with DILE and it looks to be exactly the same in 2.8.2 and 2.9.4.\r\nJust a SHA1 of the \".rsrc\" section.\r\n\r\nHowever, I'm not able to generate the same hash which is in yowsup using my own tool. One thing I noticed is that mono and windows HashFinal() return different things after calling it multiple times. Calling it more than once will result in different output than calling it the first time [why is that?], but even worse, it's different the second time on each platform too.\r\nThe first returned value is a proper SHA1 though [tested with known plaintext / hash], so I trust my tool.\r\n\r\nI'm not sure why my BuildHash shouldn't work as I pulled it out of the decompiled code + it executes and parses the PE fine.\r\n- Maybe the 2.8.2 in yowsup is not 2.8.2.0 but another build?\r\n\r\nI would have loved to throw my own 2.8.2 buildhash at the whatsapp code request but that only checks the user agent and earlys-out with \"old_version\" so it won't verify my token / buildhash.\r\n\r\n\r\nTo load the DLL yourself you can have a look at WhatsAppCommon.dll -> WhatsApp.NativeInterfaces which is the DLL loader. It will use RegisterComDll(\"WhatsAppNative.dll\", *GUIDs*) to register all the interfaces the DLL provides.\r\nYou should be able to copy the decompiled code if your decompiler is any good.\r\nIf you want to do any calls you will need the proper IMisc interface etc. though. That can be found at WhatsAppCommon.dll -> WhatsAppNative\r\nHowever, make sure your decompiler doesn't sort these imports by alphabetical order but by their order which they have in the file. Check one of my previous posts for the proper order of IMisc.\r\n\r\nYou should then be able to call GetToken already. Signature of GetToken is:\r\nIByteBuffer GetToken(IByteBuffer tokenPrefix, IByteBuffer buildHashNumber)\r\n\r\nI'm not sure how easy it is to debug on a windows phone. But if you have a proper debugger you can probably set a breakpoint in GetToken and jump to the .WAobs section of the WhatsAppNative.dll to check if the token was decrypted. Additionally you can also create a breakpoint at .text:00014C44 which is CryptHashData. At that point R1 is a pointer to bytes which will be hashed, R2 the number of bytes to be hashed.\r\n\r\nCryptHashData will be called twice from GetToken:\r\n\r\n- First time:\r\na) R1 = Pointer to tokenPrefix. R2 = Length of tokenPrefix\r\nOR\r\nb) If tokenPrefix is null (which WhatsApp currently uses): R1 = Pointer to Array I posted above (or maybe a decrypted form of it, same pointer though), R2 = 0x28 / 40 Bytes (Length of the array above)\r\n\r\n- Second time: R1 = Pointer to buildHashNumber. R2 = Length of buildHashNumber",
            "created_at": "2013-06-03T11:31:19Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18835297",
            "id": 18835297,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-03T11:33:38Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18835297",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "I've decompiled both DLLs from 2.8.2 for you using ILSpy\r\nyou can download the complete package in ilspy.rar or look into specific files here:\r\nhttp://mywapi.nl/whatsapi/share/ilspy/whatsappcommon_dll/WhatsApp/\r\n\r\nEDIT:\r\nAs you can see the first part of the registration token can be found in Constants.cs",
            "created_at": "2013-06-03T13:38:36Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18841472",
            "id": 18841472,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-03T13:41:18Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18841472",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Yeah I noticed that token already in WhatsAppCommon.dll which Dis# had no problems with.\r\n\r\nI also compared the BuildHash functions. There is one subtle difference - a bug in fact..\r\n\r\n- 2.8.2: result.Length = (long)((ulong)BuildHash.Read32(array, 16));\r\n- 2.9.4: sectionHeader.Length = Math.Min(Read32(bArr, 16), Read32(bArr, 8));\r\n\r\nDecompiler differences aside, what happens is this (Header described at http://msdn.microsoft.com/en-us/library/ms809762.aspx ):\r\n\r\n- 2.8.2: Get SizeOfRawData [Offset 16]\r\n- 2.9.4: Get  SizeOfRawData [Offset 16] or use VirtualSize [Offset 8] if it is smaller (Meaning not the entire section content will be loaded from file to memory)\r\n\r\nThis explains why my BuildHash tool was not able to get the same hash for 2.8.2\r\n\r\n\r\nThis is what my new tool spits out (for the 2.8.2 WhatsApp.dll):\r\n\r\nBuildHash (2.9.4 Algorithm) is 835e38484a0060bdf99eceb38c53d435de6df5a8\r\nBuildHash (2.8.2 Algorithm) is 889d4f44e479e6c38b4a834c6d8417815f999abe\r\n\r\nThis is what my new tool spits out (for the 2.9.4 WhatsApp.dll):\r\n\r\nBuildHash (2.9.4 Algorithm) is 21a31a2d9dbdc9a8ce324ef2df918064fd26e30a\r\nBuildHash (2.8.2 Algorithm) is a0338e1d716a8cb4a52835698a3258c8eff9eef9\r\n\r\n\r\nIt's kinda safe to assume that 21a31a2d9dbdc9a8ce324ef2df918064fd26e30a is the new BuildHash.\r\nThe problem is probably still the token prefix from the native dll which might be encrypted.\r\n\r\nI attempted this token in yowsup but it still did not work:\r\n\r\n\t\t\t(\"WhatsApp/2.9.4 WP7/7.10.8858 Device/HTC-HTC-H0002\", \r\n        \"\\xBF\\xAB\\x64\\x89\\x7C\\xF6\\xD9\\x12\\xEC\\xED\\xFE\\x72\\x58\\x09\\xD0\\xF9\\xEE\\x20\\xB1\\x4A\\x39\\x51\\x98\\xC9\\x7F\\x14\\x1B\\xDC\\x00\\x6D\\x0B\\xD1\\x66\\x5D\\x53\\xEB\\xC6\\x86\\x4B\\xA3\"+\"21a31a2d9dbdc9a8ce324ef2df918064fd26e30a{phone}\"),\r\n\r\n\r\nWhat we need is probably the first part / token array - but decrypted.\r\nIf I had a proper ARM decompiler I would probably work on that - but with desquirr you get a lot of crap for ARM. It was okay for the GetToken function but it won't be enough for the huge function which I assume to be the decryption / descrambler code.\r\nSimply executing the decryption on a windows phone and reading back the token is way easier.\r\n\r\n//Edit: I looked at the decryption function again - if I have some free time tonight I will try rewriting it in C using some emulation framework I worked on in the past.. That might work here because the function is platform independent",
            "created_at": "2013-06-03T14:22:24Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18844335",
            "id": 18844335,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-03T14:38:14Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18844335",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "I would gladly run the app to decrypt the token on one of my WP7 devices, I'll look into it when I get home in a few hours",
            "created_at": "2013-06-03T14:50:42Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18846367",
            "id": 18846367,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-03T14:50:42Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18846367",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "I'm still not sure if I understood what's going on here, so I try to summarize:\r\n* requesting registration code with S40's user agent and token is currently not possible for unknown reasons. WhatsApp server just answers with \"sent\". Noone confirmed yet, whether it's also not working anymore on a real S40 device (could an S40 emulator help here?)\r\n* you only know the token for an outdated Windows Phone version of WhatsApp. You cannot register using it, since WhatsApp server will return \"old_version\"\r\n* now you try to find out the token for the current Windows Phone version of WhatsApp by reverse engineering it\r\n* Android is no help at all, as it uses a new registration method called \"self\". You don't know anything about that method.\r\n\r\nIs this correct?",
            "created_at": "2013-06-04T12:20:59Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18905299",
            "id": 18905299,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-04T12:24:31Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18905299",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1528702?v=3",
                "events_url": "https://api.github.com/users/ulihecht/events{/privacy}",
                "followers_url": "https://api.github.com/users/ulihecht/followers",
                "following_url": "https://api.github.com/users/ulihecht/following{/other_user}",
                "gists_url": "https://api.github.com/users/ulihecht/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ulihecht",
                "id": 1528702,
                "login": "ulihecht",
                "organizations_url": "https://api.github.com/users/ulihecht/orgs",
                "received_events_url": "https://api.github.com/users/ulihecht/received_events",
                "repos_url": "https://api.github.com/users/ulihecht/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ulihecht/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ulihecht/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ulihecht"
            }
        },
        {
            "body": "Android also uses SMS & voice registration, it's just that its Java code has been obfuscated making it next to impossible to work with.",
            "created_at": "2013-06-04T12:55:10Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18906799",
            "id": 18906799,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-04T13:08:33Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18906799",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "But everything else is correct?\r\nWhat do think about the idea to use an S40 emulator?",
            "created_at": "2013-06-04T12:57:12Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18906922",
            "id": 18906922,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-04T12:57:12Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18906922",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1528702?v=3",
                "events_url": "https://api.github.com/users/ulihecht/events{/privacy}",
                "followers_url": "https://api.github.com/users/ulihecht/followers",
                "following_url": "https://api.github.com/users/ulihecht/following{/other_user}",
                "gists_url": "https://api.github.com/users/ulihecht/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ulihecht",
                "id": 1528702,
                "login": "ulihecht",
                "organizations_url": "https://api.github.com/users/ulihecht/orgs",
                "received_events_url": "https://api.github.com/users/ulihecht/received_events",
                "repos_url": "https://api.github.com/users/ulihecht/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ulihecht/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ulihecht/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ulihecht"
            }
        },
        {
            "body": "Mostly. Yes.\r\n\r\n- S40 probably has a newer version or really doesn't work anymore but server still returns sent for some reason.\r\n\r\n- Right, 2.8.2 WP is known but won't work anymore\r\n\r\n- Right, the token is generated using MD5(tokenPrefix + buildhash + number). TokenPrefix is usually 40 bytes of random data. BuildHash is a checksum of the WhatsApp client (or at least parts of it) and number is just the phonenumber you try to register. The tokenPrefix is known, BuildHash is known and the number is obviously known too. So in theory it should all work.. - but it doesn't.\r\nBuildHash was generated using the actual WhatsApp code and verified by recalculating the known 2.8.2 BuildHash. So let's assume that BuildHash and number are known and correct.\r\nThat only leaves tokenPrefix to be faulty. Upon further inspection of the source while reverse engineering you will find out that the data around tokenPrefix looks like garbage too. Hence the assumption that tokenPrefix is actuallyin an encrypted memory area.\r\nI also found a function which looks like it decrypts tokenPrefix. I now wrote a tool to emulate that specific function.\r\nIt does something (changes it) with the tokenPrefix but it is still wrong. Probably a bug in my (selfmade) emulator.\r\n\r\n- Android was reverse engineered so often in the past that WhatsApp took countermeasures which make the code almost unreadable and harder to decompile. It's easier to work with the WP now.\r\n\r\n\r\n\r\n\r\n- Using an S40 emulator could work - give it a shot? But at the end of the day you still can't say wether it didn't work because of WhatsApp or the faulty emulator if you don't get an SMS / Call..",
            "created_at": "2013-06-04T13:00:48Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18907126",
            "id": 18907126,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-04T13:00:48Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18907126",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "I can't figure out what's wrong.. I know.. it's a mess - but it's just a dirty hack, so don't judge the code please:\r\n\r\nhttp://www.jannikvogel.de/scratchpad/WhatsApp/2.9.4-Token/TokenPrefix/\r\n- decrypt.c is disassembly from IDA but translated to C code (Took me a couple of hours and I might have screwed up somewhere)\r\n- arm.h is a tiny emulation layer for flag calculation and memory access\r\n- WhatsApp_* are the sections from WhatsAppNative.dll where * is the VirtualAddress in hex [loaded by the emulator]\r\n\r\nhttp://www.jannikvogel.de/scratchpad/WhatsApp/2.9.4-Token/BuildHash/\r\n- hash.cs is just a wrapper around decompiled BuildHash from 2.8.2 and 2.9.4\r\n- hash.exe also works in mono. Start it with the DLL as argument (\"mono ./hash.exe WhatsApp.dll\"). It will also dump all sections to files called WhatsApp_* for the emulator.\r\n\r\nhttp://www.jannikvogel.de/scratchpad/WhatsApp/2.9.4-Token/\r\n- code.java is the 2.9.4 RequestCode ported to java. Personally, I use yowsup to test at the moment though as both do exactly the same (unless my one is buggy ;) ).\r\n\r\n\r\nIf you want to help you can try checking if my flags in arm.h are generated properly. Also, you can try comparing decrypted.c to disassembly and look for differences or logic flaws / missunderstanding of instructions in my emulation.\r\nIf you REALLY want to help, run this on an actual device and set a breakpoint at .text:00013CAC. Then tell me what you read back at 0x85B48 (40 bytes) and 0x854B0 (String or DWORD, so a couple of bytes - at least 4).",
            "created_at": "2013-06-04T14:08:23Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18911193",
            "id": 18911193,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-04T14:08:23Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18911193",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "I can get you remote desktop access to my windows 7 Ultimate home server with VS2012, .NET4.5, WP8 SDK and my WP7 device connected to it, guess that should give you some more stuff to play around with.\r\n\r\nLet me know if you'd like that, I'll set up the required software on the machine.\r\n\r\nI can't get this stupid native DLL to load in my WP7 app, hopefully you'll have more luck with it :)",
            "created_at": "2013-06-04T14:12:48Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18911456",
            "id": 18911456,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-04T14:14:32Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18911456",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Thanks, JayFoxRox. That clearified everything ;)",
            "created_at": "2013-06-05T12:14:23Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18971649",
            "id": 18971649,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-05T12:14:23Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18971649",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1528702?v=3",
                "events_url": "https://api.github.com/users/ulihecht/events{/privacy}",
                "followers_url": "https://api.github.com/users/ulihecht/followers",
                "following_url": "https://api.github.com/users/ulihecht/following{/other_user}",
                "gists_url": "https://api.github.com/users/ulihecht/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ulihecht",
                "id": 1528702,
                "login": "ulihecht",
                "organizations_url": "https://api.github.com/users/ulihecht/orgs",
                "received_events_url": "https://api.github.com/users/ulihecht/received_events",
                "repos_url": "https://api.github.com/users/ulihecht/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ulihecht/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ulihecht/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ulihecht"
            }
        },
        {
            "body": "I just noticed this:\r\n\r\n.text:00014E2C sub_14E2C                               ; CODE XREF: DllEntryPoint+20\u0018p\r\n.text:00014E2C                 MOV     R3, 0xFFFFCFFF\r\n.text:00014E30                 LDR     R2, [R3,#-0x7AB]\r\n\r\nMaybe IDA also fails to relocate the file properly?\r\nI highly doubt that this would work on an actual device.\r\n\r\nThe code would do something like this:\r\n\r\nunsigned int r2 = \\*(unsigned int\\*)(-0x37AC);\r\n\r\nAs negative memory addresses don't exist (on ARM), this is probably wrong..\r\n\r\n//Edit: Tried disassembling with different ARM instructions sets now and checked the file headers. No relocation or different instruction at that address. Mysterious.. - I don't get it",
            "created_at": "2013-06-05T14:23:04Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-18978741",
            "id": 18978741,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-05T21:10:10Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/18978741",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "As someone who understands what you are doing when you explain it, but can't provide any help - this is fascinating watching the \"hunt\" for the solution! \r\n\r\n:)",
            "created_at": "2013-06-05T21:57:21Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19011737",
            "id": 19011737,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-05T21:57:21Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19011737",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "I've tried to load the DLL into a homebrew WP7 app and even constructing the app from within another app\r\n```c#\r\nWhatsApp.App app = new WhatsApp.App();\r\n```\r\nBut I keep getting this error:\r\n\r\n    NativeException was unhandled\r\n    DLL registration, hr=0x800700c1\r\nStack trace:\r\n```c#\r\n   at WhatsApp.NativeInterfaces.CheckHr(UInt32 hr, Func`1 msg)\r\n   at WhatsApp.NativeInterfaces.CheckHr(UInt32 hr, String msg)\r\n   at WhatsApp.NativeInterfaces.Initialize()\r\n   at WhatsApp.App..ctor()\r\n   at PhoneApp1.MainPage..ctor()\r\n   at System.Reflection.RuntimeConstructorInfo.InternalInvoke(RuntimeConstructorInfo rtci, BindingFlags invokeAttr, Binder binder, Object parameters, CultureInfo culture, Boolean isBinderDefault, Assembly caller, Boolean verifyAccess, StackCrawlMark& stackMark)\r\n   at System.Reflection.RuntimeConstructorInfo.InternalInvoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture, StackCrawlMark& stackMark)\r\n   at System.Activator.InternalCreateInstance(Type type, Boolean nonPublic, StackCrawlMark& stackMark)\r\n   at System.Activator.CreateInstance(Type type)\r\n   at System.Windows.Navigation.PageResourceContentLoader.BeginLoad_OnUIThread(AsyncCallback userCallback, PageResourceContentLoaderAsyncResult result)\r\n   at System.Windows.Navigation.PageResourceContentLoader.<>c__DisplayClass4.<BeginLoad>b__0(Object args)\r\n   at System.Reflection.RuntimeMethodInfo.InternalInvoke(RuntimeMethodInfo rtmi, Object obj, BindingFlags invokeAttr, Binder binder, Object parameters, CultureInfo culture, Boolean isBinderDefault, Assembly caller, Boolean verifyAccess, StackCrawlMark& stackMark)\r\n   at System.Reflection.RuntimeMethodInfo.InternalInvoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture, StackCrawlMark& stackMark)\r\n   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)\r\n   at System.Delegate.DynamicInvokeOne(Object[] args)\r\n   at System.MulticastDelegate.DynamicInvokeImpl(Object[] args)\r\n   at System.Delegate.DynamicInvoke(Object[] args)\r\n   at System.Windows.Threading.DispatcherOperation.Invoke()\r\n   at System.Windows.Threading.Dispatcher.Dispatch(DispatcherPriority priority)\r\n   at System.Windows.Threading.Dispatcher.OnInvoke(Object context)\r\n   at System.Windows.Hosting.CallbackCookie.Invoke(Object[] args)\r\n   at System.Windows.Hosting.DelegateWrapper.InternalInvoke(Object[] args)\r\n   at System.Windows.RuntimeHost.ManagedHost.InvokeDelegate(IntPtr pHandle, Int32 nParamCount, ScriptParam[] pParams, ScriptParam& pResult)\r\n```\r\n\r\nany thoughts?\r\n\r\nEDIT:\r\nNativeInterfaces constructor:\r\n```c#\r\npublic static void Initialize()\r\n{\r\n\tlock (NativeInterfaces.initLock)\r\n\t{\r\n\t\tOEMPublicDirectory.Initialize();\r\n\t\tstring[] array = new string[]\r\n\t\t{\r\n\t\t\t\"9eb98dc6-afda-460c-9949-d17135c07612\",\r\n\t\t\t\"c28a9cd1-963b-4660-929d-ea82e0baf4d7\",\r\n\t\t\t\"7b947cca-f203-41cc-aa9b-96952eae168a\",\r\n\t\t\t\"f990f7de-fd2c-46f1-ab07-50e20b9a1ebc\",\r\n\t\t\t\"932540fe-c52e-47bd-9643-6b462648bca1\",\r\n\t\t\t\"7263fc58-6ca4-4708-a047-17152fed7141\"\r\n\t\t};\r\n\t\tstring[] array2 = array;\r\n\t\tfor (int i = 0; i < array2.Length; i++)\r\n\t\t{\r\n\t\t\tstring text = array2[i];\r\n\t\t\tuint hr = ComBridge.RegisterComDll(\"WhatsAppNative.dll\", new Guid(text));\r\n\t\t\tNativeInterfaces.CheckHr(hr, \"DLL registration\");\r\n\t\t}\r\n\t\tNativeInterfaces.init = true;\r\n\t}\r\n}\r\n```\r\nAnd the CheckHR method:\r\n```c#\r\npublic static void CheckHr(uint hr, Func<string> msg)\r\n{\r\n\tif ((hr & 2147483648u) != 0u)\r\n\t{\r\n\t\tthrow new NativeException(hr, string.Format(\"{0}, hr=0x{1}\", msg.Invoke() ?? \"Native function failed\", hr.ToString(\"x\")));\r\n\t}\r\n}\r\n```",
            "created_at": "2013-06-06T16:27:21Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19057142",
            "id": 19057142,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T16:29:31Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19057142",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Are you sure you have the DLL in your app path? Are you allowed to use InteropServices [Manifest exists etc.]?\r\nAlso, are you running this on an actual phone? 0x800700C1 seems to be BadImageFormatException - this would happen when trying to run ARM code on an x86 system.\r\n\r\nThe code looks fine to me.",
            "created_at": "2013-06-06T19:08:07Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19067248",
            "id": 19067248,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T19:08:07Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19067248",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "Holy crap you were right, just ran this on my HD2 and it gave no errors :o\r\n```c#\r\nWhatsApp.NativeInterfaces.Initialize();\r\nByteBuffer inp = new ByteBuffer();\r\nIByteBuffer res = WhatsApp.NativeInterfaces.Misc.GetToken(inp as IByteBuffer, inp as IByteBuffer);\r\n```\r\nNow let's see what the next move would be..",
            "created_at": "2013-06-06T19:38:42Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19068948",
            "id": 19068948,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T19:38:42Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19068948",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "You are using it wrong. Try this:\r\n\r\n```\r\n  WhatsApp.NativeInterfaces.Initialize();\r\n  string number = \"*YourNumber*\";\r\n  string s4 = \"21a31a2d9dbdc9a8ce324ef2df918064fd26e30a\"; \r\n  ByteBuffer inp = new ByteBuffer();\r\n  inp.put(Encoding.UTF8.GetBytes(s4 + number));\r\n  IByteBuffer res = WhatsApp.NativeInterfaces.Misc.GetToken(null as IByteBuffer, inp as IByteBuffer);\r\n  // Now convert res back to a hex-string or output all bytes\r\n```\r\n\r\nIt should be the same code whatsapp calculates. Try setting your debugger to native and read back the memory at the address I mentioned above. Then we should be able to register new clients too :)",
            "created_at": "2013-06-06T19:46:01Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19069362",
            "id": 19069362,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T20:29:02Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19069362",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "Ooooooh I think we're getting somewhere... :D\r\n```c#\r\nSettings.RecoveryToken\r\n{byte[20]}\r\n    [0]: 0\r\n    [1]: 191\r\n    [2]: 27\r\n    [3]: 131\r\n    [4]: 247\r\n    [5]: 234\r\n    [6]: 89\r\n    [7]: 254\r\n    [8]: 234\r\n    [9]: 63\r\n    [10]: 133\r\n    [11]: 228\r\n    [12]: 41\r\n    [13]: 67\r\n    [14]: 102\r\n    [15]: 236\r\n    [16]: 47\r\n    [17]: 22\r\n    [18]: 53\r\n    [19]: 80\r\nConvert.ToBase64String(Settings.RecoveryToken)\r\n\"AL8bg/fqWf7qP4XkKUNm7C8WNVA=\"\r\n```\r\n\r\n@JayFoxRox  you sure you don't want to play around on Remote Desktop? ^^",
            "created_at": "2013-06-06T19:46:32Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19069392",
            "id": 19069392,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T19:46:32Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19069392",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Well if that doesn't look like a Whatsapp password I'll eat my hat!",
            "created_at": "2013-06-06T19:51:46Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19069719",
            "id": 19069719,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T19:51:46Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19069719",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2513663?v=3",
                "events_url": "https://api.github.com/users/jonnywilliamson/events{/privacy}",
                "followers_url": "https://api.github.com/users/jonnywilliamson/followers",
                "following_url": "https://api.github.com/users/jonnywilliamson/following{/other_user}",
                "gists_url": "https://api.github.com/users/jonnywilliamson/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jonnywilliamson",
                "id": 2513663,
                "login": "jonnywilliamson",
                "organizations_url": "https://api.github.com/users/jonnywilliamson/orgs",
                "received_events_url": "https://api.github.com/users/jonnywilliamson/received_events",
                "repos_url": "https://api.github.com/users/jonnywilliamson/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jonnywilliamson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jonnywilliamson/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jonnywilliamson"
            }
        },
        {
            "body": "Which array is that? That looks like the token-hash send to WhatsApp. Still not the one we need to calculate it (what I refer to as TokenPrefix).\r\nI would like to test on your server - but your domain was not reachable for the last days. I thought you were still working on it.\r\n\r\n//Edit: That base64 string appears wrong - the one in memory (tokenPrefix, the array we look for) will already be one - no need to encode that. What you get back from GetToken() is actually the token for your number + buildhash + tokenPrefix (first argument or the one we want to read from the dll - currently ALWAYS the one from the dll as first argument is always null)",
            "created_at": "2013-06-06T19:52:24Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19069756",
            "id": 19069756,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T19:54:54Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19069756",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "```c#\r\n            WhatsApp.NativeInterfaces.Initialize();\r\n            string number = \"650568134\";\r\n            string s4 = \"21a31a2d9dbdc9a8ce324ef2df918064fd26e30a\";\r\n            IByteBuffer inp = new ByteBuffer() as IByteBuffer;\r\n            inp.Put(System.Text.Encoding.UTF8.GetBytes(s4 + number));\r\n            IByteBuffer res = WhatsApp.NativeInterfaces.Misc.GetToken(null as IByteBuffer, inp as IByteBuffer);\r\n            byte[] output = res.Get();\r\n            string data = System.Text.Encoding.UTF8.GetString(output);\r\n            string data2 = Convert.ToBase64String(output);\r\n```\r\noutput = {byte[16]}\r\n    [0]: 95\r\n    [1]: 121\r\n    [2]: 92\r\n    [3]: 125\r\n    [4]: 190\r\n    [5]: 16\r\n    [6]: 52\r\n    [7]: 139\r\n    [8]: 66\r\n    [9]: 212\r\n    [10]: 190\r\n    [11]: 130\r\n    [12]: 63\r\n    [13]: 209\r\n    [14]: 101\r\n    [15]: 131\r\ndata = _y\\\\}\u00104B?e\r\ndata2 = X3lcfb4QNItC1L6CP9Flgw==\r\n\r\nEDIT:\r\nThis seems to be the interesting part of the code (in Registration.RequestCode)\r\n```c#\r\n\tstring buildHash = Registration.GetBuildHash();\r\n\tIByteBuffer prefix = Registration.NewByteBuffer(null);\r\n\tIByteBuffer fuzz = Registration.NewByteBuffer(Encoding.get_UTF8().GetBytes(buildHash + number));\r\n\tIByteBuffer token = NativeInterfaces.Misc.GetToken(prefix, fuzz);\r\n\tstring text4 = token.Get().ToHexString().ToLower();\r\n```",
            "created_at": "2013-06-06T20:03:37Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19070420",
            "id": 19070420,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T20:14:18Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19070420",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "Used it wrong again ;) You need a hexstring and compare that token to one you get from a phone registration using your actual phone / whatsapp. That verifies that the used function and logic works.\r\n\r\nThis is how you format the output: http://codepad.org/Os7y0dyN\r\nAs you can see, this token is correct as it matches one in your previous posts.\r\n\r\nSo the native DLL works fine. Time to dump the token from the binary now by setting a breakpoint at the address I mentioned above or reading back the memory directly.\r\n\r\n//Edit-1: This also confirms that my buildHash is correct!\r\n2.9.4.0 BuildHash is verified to be: \"21a31a2d9dbdc9a8ce324ef2df918064fd26e30a\"\r\n\r\n//Edit-2: The code you just edit-ed in is pretty much the one which I posted before - which you just ran to get the token above your edit ;)\r\n\r\nPS: Might not be too smart to post your phone number online.",
            "created_at": "2013-06-06T20:20:33Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19071416",
            "id": 19071416,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T20:24:54Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19071416",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "That's my old phone number which has been disconnected for years now ;)\r\n\r\nHmm I'm not sure if I'm able to read the memory directly though...",
            "created_at": "2013-06-06T20:24:07Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19071626",
            "id": 19071626,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T20:24:07Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19071626",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "If the debugger won't do it, I'd probably write my own function to dump the token by modifying the DLL.\r\n\r\nHowever, if your debugger / phone supports debugging native code you can read back the memory.\r\nI can also do it if your server is online (still offline for me - maybe DNS outdated?).",
            "created_at": "2013-06-06T20:27:00Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19071796",
            "id": 19071796,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T20:29:44Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19071796",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "My server should always be online, are you getting a login prompt?",
            "created_at": "2013-06-06T20:34:48Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19072252",
            "id": 19072252,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T20:34:48Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19072252",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "WE DID IT",
            "created_at": "2013-06-06T21:41:17Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19076118",
            "id": 19076118,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T21:41:17Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19076118",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "\"EUREKA\"\r\n\r\nI used Yowsup to verify but it should work with most other tools too: Add this in /Common/Http/warequest.py and set the self.uaIndex to this entry:\r\n\r\n (\"WhatsApp/2.9.4 WP7/7.10.8858 Device/HTC-HTC-H0002\",\r\n**\"Od52pFozHNWF9XbTN5lrqDtnsiZGL2G3l9yw1GiQ\"**+\"21a31a2d9dbdc9a8ce324ef2df918064fd26e30a{phone}\"),\r\n\r\nI just received my WhatsApp code - Finally!\r\n\r\nCredit where credit is due:\r\n- Thanks to shirioko who was willing to run my hacked (and private) DLL so we were able to obtain the key!\r\nHe also wrote the tool to call my hacked DLL which does the actual dumping and provided me with necessary files and information\r\n\r\n\r\n- **If you commit this to your project please credit me in the commit describtion (best by calling me Jannik Vogel) and shirioko (if he doesn't want this or wants to add anything specific he shall request it now)**\r\n[If you don't know what we actually did: \"We reverse engineered the BuildHash and Token for WhatsApp 2.9.4.0 for Windows Phones\"]\r\n\r\n---\r\n\r\nFor those who are interested in the technical bits of the DLL (Original SHA1: 949e271646ec4d04707d52a3599521b398a82be6):\r\n\r\nChanged code:\r\n\r\n0x4d3c to 28 20 a0 e3 (Set GetToken to always return 40 bytes)\r\n0x4d44 to 60 11 9f e5 (Set GetToken to always return the tokenPrefix)\r\n\r\nChanged checksum:\r\n\r\n0xd8 to 2B 16 08 00",
            "created_at": "2013-06-06T21:42:31Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19076188",
            "id": 19076188,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T21:43:04Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19076188",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            }
        },
        {
            "body": "BOOM https://github.com/shirioko/WhatsAPI/commit/09499c8417765d92912bae072f5f2473d277f5df\r\n\r\nWell that should leave a mark on our legacy haha :D\r\n\r\nEDIT:\r\nAlso added actual credits to my fork :)\r\nhttps://github.com/shirioko/WhatsAPI/blob/219d220f4d4e7bcd1693b1e6c5323b287f76f70c/README.md",
            "created_at": "2013-06-06T21:43:31Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19076239",
            "id": 19076239,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-06T22:39:37Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19076239",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "nice work guys!!! followed it the last few days..\r\n\r\nNext stop: reverse engineer the algorithm so we can keep updating useragents ;) \r\nAnyhow, really nice job done!",
            "created_at": "2013-06-07T05:42:41Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19090022",
            "id": 19090022,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-07T05:42:41Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19090022",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/333021?v=3",
                "events_url": "https://api.github.com/users/ramonv/events{/privacy}",
                "followers_url": "https://api.github.com/users/ramonv/followers",
                "following_url": "https://api.github.com/users/ramonv/following{/other_user}",
                "gists_url": "https://api.github.com/users/ramonv/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ramonv",
                "id": 333021,
                "login": "ramonv",
                "organizations_url": "https://api.github.com/users/ramonv/orgs",
                "received_events_url": "https://api.github.com/users/ramonv/received_events",
                "repos_url": "https://api.github.com/users/ramonv/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ramonv/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ramonv/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ramonv"
            }
        },
        {
            "body": "Congratulations :D Great!!!\r\n\r\nEDIT:\r\nDo we need to change constant \"resource\" in Yowsup\\Common\\constants.py from \"S40-2.3.53\" to something like \"WP7-2.9.4\"?",
            "created_at": "2013-06-07T11:03:29Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19100777",
            "id": 19100777,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-07T11:23:54Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19100777",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1528702?v=3",
                "events_url": "https://api.github.com/users/ulihecht/events{/privacy}",
                "followers_url": "https://api.github.com/users/ulihecht/followers",
                "following_url": "https://api.github.com/users/ulihecht/following{/other_user}",
                "gists_url": "https://api.github.com/users/ulihecht/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ulihecht",
                "id": 1528702,
                "login": "ulihecht",
                "organizations_url": "https://api.github.com/users/ulihecht/orgs",
                "received_events_url": "https://api.github.com/users/ulihecht/received_events",
                "repos_url": "https://api.github.com/users/ulihecht/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ulihecht/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ulihecht/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ulihecht"
            }
        },
        {
            "body": "Nope.",
            "created_at": "2013-06-07T12:16:11Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-19103531",
            "id": 19103531,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2013-06-07T12:16:11Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/19103531",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            }
        },
        {
            "body": "unable to recieve sms code through whatsapi, youwsup and wart please help",
            "created_at": "2014-11-12T10:27:47Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-62698073",
            "id": 62698073,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2014-11-12T10:27:47Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/62698073",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8022775?v=3",
                "events_url": "https://api.github.com/users/karan19901990/events{/privacy}",
                "followers_url": "https://api.github.com/users/karan19901990/followers",
                "following_url": "https://api.github.com/users/karan19901990/following{/other_user}",
                "gists_url": "https://api.github.com/users/karan19901990/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/karan19901990",
                "id": 8022775,
                "login": "karan19901990",
                "organizations_url": "https://api.github.com/users/karan19901990/orgs",
                "received_events_url": "https://api.github.com/users/karan19901990/received_events",
                "repos_url": "https://api.github.com/users/karan19901990/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/karan19901990/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/karan19901990/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/karan19901990"
            }
        },
        {
            "body": "This is fixed here: https://github.com/mgp25/WhatsAPI-Official",
            "created_at": "2014-11-13T01:06:42Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-62824566",
            "id": 62824566,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2014-11-13T01:06:42Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/62824566",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5390120?v=3",
                "events_url": "https://api.github.com/users/mgp25/events{/privacy}",
                "followers_url": "https://api.github.com/users/mgp25/followers",
                "following_url": "https://api.github.com/users/mgp25/following{/other_user}",
                "gists_url": "https://api.github.com/users/mgp25/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mgp25",
                "id": 5390120,
                "login": "mgp25",
                "organizations_url": "https://api.github.com/users/mgp25/orgs",
                "received_events_url": "https://api.github.com/users/mgp25/received_events",
                "repos_url": "https://api.github.com/users/mgp25/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mgp25/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mgp25/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mgp25"
            }
        },
        {
            "body": "even by this code i donot recieve sms msg..\r\n\r\nOn Thu, Nov 13, 2014 at 6:37 AM, mgp25 <notifications@github.com> wrote:\r\n\r\n> This is fixed here: https://github.com/mgp25/WhatsAPI-Official\r\n>\r\n> \r\n> Reply to this email directly or view it on GitHub.\r\n>\r\n\r\n\r\n\r\n-- \r\nK@r@!\\!",
            "created_at": "2014-11-13T05:17:09Z",
            "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337#issuecomment-62843076",
            "id": 62843076,
            "issue_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
            "updated_at": "2014-11-13T05:17:09Z",
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/comments/62843076",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8022775?v=3",
                "events_url": "https://api.github.com/users/karan19901990/events{/privacy}",
                "followers_url": "https://api.github.com/users/karan19901990/followers",
                "following_url": "https://api.github.com/users/karan19901990/following{/other_user}",
                "gists_url": "https://api.github.com/users/karan19901990/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/karan19901990",
                "id": 8022775,
                "login": "karan19901990",
                "organizations_url": "https://api.github.com/users/karan19901990/orgs",
                "received_events_url": "https://api.github.com/users/karan19901990/received_events",
                "repos_url": "https://api.github.com/users/karan19901990/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/karan19901990/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/karan19901990/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/karan19901990"
            }
        }
    ],
    "comments": 62,
    "comments_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337/comments",
    "created_at": "2013-05-05T06:30:07Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-06-01T15:31:38Z",
            "event": "mentioned",
            "id": 51021800,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/51021800"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-06-01T15:31:38Z",
            "event": "subscribed",
            "id": 51021801,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/51021801"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            },
            "commit_id": null,
            "created_at": "2013-06-06T19:46:32Z",
            "event": "mentioned",
            "id": 51715924,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/51715924"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/360330?v=3",
                "events_url": "https://api.github.com/users/JayFoxRox/events{/privacy}",
                "followers_url": "https://api.github.com/users/JayFoxRox/followers",
                "following_url": "https://api.github.com/users/JayFoxRox/following{/other_user}",
                "gists_url": "https://api.github.com/users/JayFoxRox/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JayFoxRox",
                "id": 360330,
                "login": "JayFoxRox",
                "organizations_url": "https://api.github.com/users/JayFoxRox/orgs",
                "received_events_url": "https://api.github.com/users/JayFoxRox/received_events",
                "repos_url": "https://api.github.com/users/JayFoxRox/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JayFoxRox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JayFoxRox/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JayFoxRox"
            },
            "commit_id": null,
            "created_at": "2013-06-06T19:46:32Z",
            "event": "subscribed",
            "id": 51715925,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/51715925"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1610953?v=3",
                "events_url": "https://api.github.com/users/shirioko/events{/privacy}",
                "followers_url": "https://api.github.com/users/shirioko/followers",
                "following_url": "https://api.github.com/users/shirioko/following{/other_user}",
                "gists_url": "https://api.github.com/users/shirioko/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shirioko",
                "id": 1610953,
                "login": "shirioko",
                "organizations_url": "https://api.github.com/users/shirioko/orgs",
                "received_events_url": "https://api.github.com/users/shirioko/received_events",
                "repos_url": "https://api.github.com/users/shirioko/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shirioko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shirioko/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shirioko"
            },
            "commit_id": null,
            "created_at": "2013-06-20T15:51:54Z",
            "event": "closed",
            "id": 53463850,
            "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/events/53463850"
        }
    ],
    "events_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337/events",
    "html_url": "https://github.com/venomous0x/WhatsAPI/issues/337",
    "id": 13974590,
    "labels": [],
    "labels_url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 337,
    "state": "closed",
    "title": "There is a problem in requestCode which always return sent or fail",
    "updated_at": "2014-11-13T05:17:09Z",
    "url": "https://api.github.com/repos/venomous0x/WhatsAPI/issues/337",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/862330?v=3",
        "events_url": "https://api.github.com/users/ahmadabudawod/events{/privacy}",
        "followers_url": "https://api.github.com/users/ahmadabudawod/followers",
        "following_url": "https://api.github.com/users/ahmadabudawod/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahmadabudawod/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ahmadabudawod",
        "id": 862330,
        "login": "ahmadabudawod",
        "organizations_url": "https://api.github.com/users/ahmadabudawod/orgs",
        "received_events_url": "https://api.github.com/users/ahmadabudawod/received_events",
        "repos_url": "https://api.github.com/users/ahmadabudawod/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ahmadabudawod/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahmadabudawod/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ahmadabudawod"
    }
}